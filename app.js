//version 1.2.2

var _0x254145 = _0x4826; (function (_0x56253f, _0x35825e) { var _0x59ce11 = _0x4826, _0x4d2fdc = _0x56253f(); while (!![]) { try { var _0x34c38a = -parseInt(_0x59ce11(0x1cb)) / 0x1 * (-parseInt(_0x59ce11(0x280)) / 0x2) + -parseInt(_0x59ce11(0x21f)) / 0x3 + -parseInt(_0x59ce11(0x289)) / 0x4 + -parseInt(_0x59ce11(0x195)) / 0x5 + -parseInt(_0x59ce11(0x239)) / 0x6 + parseInt(_0x59ce11(0x26d)) / 0x7 + parseInt(_0x59ce11(0x148)) / 0x8; if (_0x34c38a === _0x35825e) break; else _0x4d2fdc['push'](_0x4d2fdc['shift']()); } catch (_0x1f92a7) { _0x4d2fdc['push'](_0x4d2fdc['shift']()); } } }(_0x2d69, 0xb59a4)); var _0x3b8ab5 = (function () { var _0x35a927 = !![]; return function (_0x29057a, _0x287f25) { var _0xe72bb3 = _0x35a927 ? function () { var _0x569975 = _0x4826; if (_0x287f25) { var _0x37b09f = _0x287f25[_0x569975(0x1b9)](_0x29057a, arguments); return _0x287f25 = null, _0x37b09f; } } : function () { }; return _0x35a927 = ![], _0xe72bb3; }; }()), _0xd07d0a = _0x3b8ab5(this, function () { var _0x2888f0 = _0x4826, _0x54a32e; try { var _0x5fd55a = Function(_0x2888f0(0x27b) + _0x2888f0(0x17d) + ');'); _0x54a32e = _0x5fd55a(); } catch (_0x2fc0dc) { _0x54a32e = window; } var _0x3b99a1 = _0x54a32e[_0x2888f0(0x19b)] = _0x54a32e[_0x2888f0(0x19b)] || {}, _0xd3e592 = [_0x2888f0(0x1ce), _0x2888f0(0x246), _0x2888f0(0x29a), 'error', _0x2888f0(0x175), _0x2888f0(0x1cd), _0x2888f0(0x226)]; for (var _0x122a4f = 0x0; _0x122a4f < _0xd3e592['length']; _0x122a4f++) { var _0x27cab3 = _0x3b8ab5['constructor'][_0x2888f0(0x297)][_0x2888f0(0x17e)](_0x3b8ab5), _0x27a62f = _0xd3e592[_0x122a4f], _0x25fd27 = _0x3b99a1[_0x27a62f] || _0x27cab3; _0x27cab3[_0x2888f0(0x261)] = _0x3b8ab5[_0x2888f0(0x17e)](_0x3b8ab5), _0x27cab3[_0x2888f0(0x26a)] = _0x25fd27[_0x2888f0(0x26a)][_0x2888f0(0x17e)](_0x25fd27), _0x3b99a1[_0x27a62f] = _0x27cab3; } }); _0xd07d0a(); function _0x2d69() { var _0x2bff8d = ['idealMatches', '1815168KgOigI', 'STABLE_WINDOW_SIZE', 'CANVAS_HEIGHT', 'zeros', 'top', 'imageTargets', 'drawKeypoints', 'gemm', 'circle', 'LAST_N2', 'state', 'loaded\x20', 'dot', 'warn', '100vh', 'uncropKeypoints', 'Size', 'onloadedmetadata', 'setNoise7x7', 'atan', 'setTransform', 'canvas', 'warp', 'VALID_POSE_DELTA_ROT', 'valid', 'filterNoise', 'videoHeight', 'bleed\x20horizontal', 'height', 'autoplay', 'STABLE_WINDOW_SIZE_QOS', 'startSmoothMode', 'rectangle', 'unityTargetLost\x20', 'DMatchVector', 'sqrt', 'videoBackground', 'ENABLE_NOISE_FILTER', 'init\x20imagetargets', 'track', '__proto__', 'debugKps', 'matches', 'addEventListener', 'indexOf', 'roi', 'position', 'lastk', 'video:\x20', 'toString', 'debugMatches', 'loadTargets', '3331867IwVvAi', 'stop\x20smooth\x20mode', 'DEBUG_CHOOSE_CAM', 'TRACKER_NAME', 'environment', 'SHARPEN_IMAGE', 'queryIdx', 'portrait', 'graySharp', 'injected\x20', 'data32F', 'VIDEO', 'KALMAN_POSE_POS_FACTOR', 'Point', 'return\x20(function()\x20', 'TM_CCORR_NORMED', 'transitionMatrix', 'debugShow', 'var', '2leFFSM', 'push_back', 'extractor', 'VALID_POSE_DELTA_POS', 'unityTargetLost', 'processNoiseCov', 'bestCoverage', 'min', '\x20ideal\x20matches', '4041524feDYUx', 'match', 'style', 'remove', 'gray', 'LAST_N1', 'STABLE_POSE_DELTA_ROT', 'delete', 'unity-canvas', 'unityTargetFound\x20', 'meas', 'playsinline', 'debugDelete', 'debugImageTarget', 'prototype', 'keys', 'max', 'info', 'KALMAN_PROC_NOISE_ACC', 'addWeighted', 'setKalmanTransition', 'catch', 'MATCH_DISTANCE_DETECT_ROI', 'length', 'Scalar', 'kpSharp', 'DETECT_INTERVAL', 'BFMatcher', 'ceil', 'then', 'clearRect', 'random', 'select', 'drawMatches', 'VALID_POSE_DELTA_POS_QOS', 'KALMAN_PROC_NOISE_ROT', 'STABLE_POSE_ROT_FACTOR', 'get', 'errorCovPre', 'opencv.js', '22385128UcyXub', 'script', 'solvePnP', 'MATCH_DISTANCE_TRACK', 'Rect', 'ASPECT_RATIO', 'getImageData', 'statePre', 'minMaxLoc', 'cols', 'cv\x20initialized', 'H_REPROJ_THRESH', 'SIFT', 'refineMatches', 'getPose', 'unityTargetFound', 'initKalman', 'createElement', 'MATCH_DISTANCE_DETECT', 'predict', 'set', 'KALMAN_PROC_NOISE_VEL', 'correctKalman', 'measurementMatrix', 'translate(-25%,-25%)\x20scale(', 'TRACK_WINDOW_SIZE', 'MAX_PIXELS', 'KeyPointVector', 'forEach', 'CV_32F', 'rotMat', 'FEATURE_COUNT', 'CANVAS', 'matcher', 'drawImage', 'refinedMatches', 'knnMatch', 'warpKeypoints', 'fillConvexPoly', 'video', 'getContext', 'KALMAN_MEAS_NOISE_POS', 'body', 'push', 'innerWidth', 'exception', 'debugImages', 'detectCompute', 'DETECT_ROI_CENTER_SCALE', 'detect', 'CTX', 'DMatchVectorVector', 'unitySetFov', '{}.constructor(\x22return\x20this\x22)(\x20)', 'bind', 'getElementById', 'MAX_AREA', 'UPDATE_INTERVAL', 'COLOR_RGBA2GRAY', 'lastw', 'deviceId', 'update', 'WARP_INVERSE_MAP', 'onload', 'canvas\x20resolution', 'COLOR_GRAY2RGB', 'isImageTracked', 'TRACK_IMPROVE_MATCHES', 'camera\x20paused', 'isStarted', 'untracked', 'width', 'play', 'assign', 'includes', 'MAX_PIXELS_QOS', 'INTER_LINEAR', '1190280ERowbX', 'STABLE_POSE_DELTA_POS', 'STABLE_POSE_POS_FACTOR', 'cvtColor', 'H_MATCH_COUNT_DETECT', 'KALMAN_DELTA_ROT', 'console', 'innerHTML', 'debugSave', 'setPoseFactors', 'STABLE_PATCH_SIZE', 'value', 'empty', 'debugHide', 'src', 'deletePatches', 'isPoseValid', 'H_MATCH_COUNT_DETECT_ROI', 'H_MATCH_COUNT_TRACK', 'targetsInScene', 'trackedCount', 'CV_8UC1', 'resize', 'parse', 'all\x20targets\x20loaded', 'Rodrigues', 'querySelectorAll', 'floor', 'option', 'detectIndex', 'LAST_S1', 'FOV', 'lastj', 'distance', 'warpMatches', 'VALID_POSE_DELTA_ROT_QOS', 'apply', 'MAX_SIMULTANEOUS_TRACK', 'lastDetectTime', 'CANVAS_WIDTH', 'statePost', 'GaussianBlur', 'firstChild', 'LAST_K2', 'KALMAN_PROC_NOISE_RACC', 'createTextNode', 'patch', 'LAST_K1', 'TRACK_TARGET_MATCH_COUNT', 'label', 'getHomography', 'imshow', 'setFramerate', 'setAttribute', '375317bIoaTE', 'enumerateDevices', 'table', 'log', 'lastPose', 'getPoseFactors', 'TRACK_TARGET_MATCH_COUNT_QOS', 'perspectiveTransform', 'stopSmoothMode', 'LAST_POSE_IS_STABLE', 'getAttribute', 'findHomography', 'desSharp', 'setMeasNoise', 'size', 'video\x20resolution', 'debugLoad', 'kalman', 'randomIntFromInterval', 'data', 'detectROI', '100vw', 'RANSAC', 'CAM_MAT', 'KALMAN_DELTA_POS', 'matFromArray', 'getCorners', 'SOLVEPNP_ITERATIVE', 'transform', 'set\x20', 'getUserMedia', 'makeGray', 'homography', 'innerHeight', 'untrack', 'copyTo', 'getBoundingClientRect', 'KalmanFilter', 'muted', 'predictKalman', 'Mat', 'compute', 'line', 'SetCameraFov', 'setQOS', 'CV_32SC2', 'unpauseCamera', 'DETECT_ROI_CENTER_SIDE', 'STABLE_PATCH_SIZE_QOS', 'KALMAN_MEAS_NOISE_ROT', 'lastUpdateTime', 'TRACK_PATCH_SIZE', 'KALMAN_POSE_ROT_FACTOR', 'LAST_FRAMERATE', 'KALMAN_PROC_NOISE_POS', 'debugChooseCam', 'trainIdx', 'pow', 'resetKalman', 'appendChild', 'setPoseFactorsInternal', 'projectPoints', 'splice', 'TRACK_PATCH_SIZE_QOS', 'absolute', 'detector', 'debugIds', 'des', 'lastRefineMatchesTime', 'QOS', 'getROI', 'untracked\x20', '\x20to\x20', '-100', 'measurementNoiseCov', 'CAM_DIST_MAT', 'now', 'unityInstance', 'rows', 'videoWidth', 'sharpen', 'tracker\x20resolution', 'left', 'TRACK_WINDOW_SIZE_QOS', '4063890kaMyne', 'hasPrediction', 'LAST_TRACK_TARGET_MATCH_COUNT', 'FRAMERATE', 'SendMessage', 'coverage', 'cameraPaused', 'trace', 'unityUpdatePose', 'stopTracker', 'tvec', 'matchPatches', 'mediaDevices', 'setNoise21x21', 'LAST_S2', 'init\x20features', 'filterNoise\x20->\x20poseKalman', 'getPatches', 'round', 'lasti', 'pauseCamera', '\x20from\x20', 'KALMAN_PROC_NOISE_RVEL', 'tracked', 'bleed\x20vertical']; _0x2d69 = function () { return _0x2bff8d; }; return _0x2d69(); } var script = document[_0x254145(0x159)](_0x254145(0x149)); script[_0x254145(0x187)] = function () { var _0x1bff9f = _0x254145; cv[_0x1bff9f(0x2a6)](_0x19ee47 => { var _0x1ac531 = _0x1bff9f; console[_0x1ac531(0x1ce)](_0x1ac531(0x152)), window['cv'] = _0x19ee47, window['tracker'] = new ImageTracker(), window[_0x1ac531(0x264)](_0x1ac531(0x1ab), window['tracker'][_0x1ac531(0x1ab)], !![]); }); }, script[_0x254145(0x1a3)] = _0x254145(0x147), document['body'][_0x254145(0x206)](script); function _0x4826(_0x5c3f89, _0x26f30f) { var _0x5a4dc4 = _0x2d69(); return _0x4826 = function (_0xd07d0a, _0x3b8ab5) { _0xd07d0a = _0xd07d0a - 0x144; var _0xaf622a = _0x5a4dc4[_0xd07d0a]; return _0xaf622a; }, _0x4826(_0x5c3f89, _0x26f30f); } class ImageTracker { constructor() { var _0x51d534 = _0x254145; console[_0x51d534(0x1ce)]('init\x20settings'), this[_0x51d534(0x210)] = 0x1, this['TRACKER_NAME'] = 'Tracker', this['FRAMERATE'] = 0x18, this['MAX_PIXELS_QOS'] = [0x12c, 0x1c2, 0x258], this['MAX_AREA'] = 0x9c40, this[_0x51d534(0x272)] = !![], this['DEBUG_CHOOSE_CAM'] = ![], this[_0x51d534(0x2a3)] = 0xc8, this[_0x51d534(0x1fa)] = 0x96, this[_0x51d534(0x178)] = 0.5, this[_0x51d534(0x29f)] = 0.8, this[_0x51d534(0x1a6)] = 0x5, this[_0x51d534(0x15a)] = 0.6, this[_0x51d534(0x199)] = 0xa, this[_0x51d534(0x14b)] = 0.8, this[_0x51d534(0x1a7)] = 0xa, this[_0x51d534(0x1ba)] = 0x1, this['H_REPROJ_THRESH'] = 0xa, this[_0x51d534(0x20a)] = [0xd, 0xf, 0x15], this[_0x51d534(0x21e)] = [0x24, 0x30, 0x40], this[_0x51d534(0x1fb)] = [0xd, 0xf, 0x13], this[_0x51d534(0x257)] = [0x14, 0x18, 0x20], this[_0x51d534(0x18b)] = !![], this[_0x51d534(0x1d1)] = [0x19, 0x19, 0x19], this['TRACK_IMPROVE_MATCHES_DELAY'] = 0x3e8, this[_0x51d534(0x279)] = 0.003, this[_0x51d534(0x1ff)] = 0.004, this[_0x51d534(0x197)] = 0.02, this['STABLE_POSE_ROT_FACTOR'] = 0.01, this[_0x51d534(0x2ab)] = [0.03, 0.04, 0.05], this[_0x51d534(0x1b8)] = [0.75, 0.7, 0.65], this[_0x51d534(0x1d4)] = ![], console[_0x51d534(0x1ce)](_0x51d534(0x22e)), this[_0x51d534(0x167)] = 0x1f4, this['detector'] = new cv[(_0x51d534(0x154))](), this[_0x51d534(0x282)] = new cv[(_0x51d534(0x154))](), this[_0x51d534(0x169)] = new cv[(_0x51d534(0x2a4))](cv['NORM_L2']), console['log'](_0x51d534(0x25f)), this[_0x51d534(0x26c)](() => { var _0x329c0f = _0x51d534; console[_0x329c0f(0x1ce)](_0x329c0f(0x1ad), this[_0x329c0f(0x23e)]); }); if (this[_0x51d534(0x26f)]) this[_0x51d534(0x202)](); this[_0x51d534(0x25e)] = !![], this[_0x51d534(0x171)] = 0.15, this[_0x51d534(0x1fc)] = 0.15, this[_0x51d534(0x201)] = 0.00001, this[_0x51d534(0x15d)] = 0x1, this[_0x51d534(0x29b)] = 0x1, this[_0x51d534(0x2ac)] = 0.00001, this[_0x51d534(0x235)] = 0x1, this[_0x51d534(0x1c1)] = 0x1, this[_0x51d534(0x1f7)](this['QOS']), this[_0x51d534(0x1a9)] = 0x0; } ['setQOS'](_0x3f99d6) { var _0x3d699c = _0x254145; this[_0x3d699c(0x210)] = 0x2, this[_0x3d699c(0x162)] = this[_0x3d699c(0x193)][this[_0x3d699c(0x210)]], this[_0x3d699c(0x1fe)] = this['TRACK_PATCH_SIZE_QOS'][this[_0x3d699c(0x210)]], this[_0x3d699c(0x161)] = this['TRACK_WINDOW_SIZE_QOS'][this[_0x3d699c(0x210)]], this[_0x3d699c(0x1c5)] = this['TRACK_TARGET_MATCH_COUNT_QOS'][this[_0x3d699c(0x210)]], this[_0x3d699c(0x283)] = this[_0x3d699c(0x2ab)][this[_0x3d699c(0x210)]], this[_0x3d699c(0x250)] = this[_0x3d699c(0x1b8)][this[_0x3d699c(0x210)]], this[_0x3d699c(0x207)](), this[_0x3d699c(0x19f)] = this[_0x3d699c(0x1fb)][this[_0x3d699c(0x210)]], this[_0x3d699c(0x23a)] = this['STABLE_WINDOW_SIZE_QOS'][this[_0x3d699c(0x210)]], window['tracker'] && tracker[_0x3d699c(0x1ab)](); } [_0x254145(0x1c9)](_0x419fbb) { var _0x301bc5 = _0x254145; tracker['FRAMERATE'] = _0x419fbb, clearInterval(tracker[_0x301bc5(0x181)]), tracker['UPDATE_INTERVAL'] = setInterval(tracker[_0x301bc5(0x185)], 0x1 / tracker[_0x301bc5(0x222)] * 0x3e8, tracker['VIDEO'], tracker[_0x301bc5(0x168)], tracker[_0x301bc5(0x17a)]); } [_0x254145(0x1d0)]() { var _0x4b93db = _0x254145; console[_0x4b93db(0x1ce)]('(' + this['KALMAN_POSE_POS_FACTOR'] + ',' + this[_0x4b93db(0x1ff)] + ',' + this[_0x4b93db(0x197)] + ',' + this[_0x4b93db(0x144)] + ')'); } [_0x254145(0x19e)](_0x6dcc1d, _0x1c6889, _0x2a1461, _0x47d1b2) { var _0x50e840 = _0x254145; this[_0x50e840(0x279)] = _0x6dcc1d, this[_0x50e840(0x1ff)] = _0x1c6889, this[_0x50e840(0x197)] = _0x2a1461, this['STABLE_POSE_ROT_FACTOR'] = _0x47d1b2, this[_0x50e840(0x207)](); } [_0x254145(0x207)]() { var _0x7cce0a = _0x254145; this[_0x7cce0a(0x1e3)] = this['VALID_POSE_DELTA_POS_QOS'][this[_0x7cce0a(0x210)]] * this[_0x7cce0a(0x279)], this[_0x7cce0a(0x19a)] = 0x1 - (0x1 - this['VALID_POSE_DELTA_ROT_QOS'][this[_0x7cce0a(0x210)]]) * this[_0x7cce0a(0x1ff)], this[_0x7cce0a(0x196)] = this['VALID_POSE_DELTA_POS_QOS'][this[_0x7cce0a(0x210)]] * this[_0x7cce0a(0x197)], this[_0x7cce0a(0x28f)] = 0x1 - (0x1 - this[_0x7cce0a(0x1b8)][this[_0x7cce0a(0x210)]]) * this[_0x7cce0a(0x144)]; } ['startSmoothMode']() { var _0xcb9e86 = _0x254145; console[_0xcb9e86(0x1ce)]('start\x20smooth\x20mode'), this[_0xcb9e86(0x1c4)] = this[_0xcb9e86(0x279)], this['LAST_K2'] = this['KALMAN_POSE_ROT_FACTOR'], this[_0xcb9e86(0x1b3)] = this[_0xcb9e86(0x197)], this['LAST_S2'] = this[_0xcb9e86(0x144)], this[_0xcb9e86(0x19e)](0.075, 0.075, 0.02, 0.01), this['LAST_TRACK_TARGET_MATCH_COUNT'] = this[_0xcb9e86(0x1c5)], this['TRACK_TARGET_MATCH_COUNT'] = 0xf, this[_0xcb9e86(0x28e)] = this[_0xcb9e86(0x171)], this[_0xcb9e86(0x242)] = this[_0xcb9e86(0x1fc)], this[_0xcb9e86(0x1d8)](1.5, 1.5), this['LAST_FRAMERATE'] = this[_0xcb9e86(0x222)], this['setFramerate'](0xf); } [_0x254145(0x1d3)]() { var _0x5d06d4 = _0x254145; console[_0x5d06d4(0x1ce)](_0x5d06d4(0x26e)), this[_0x5d06d4(0x19e)](this[_0x5d06d4(0x1c4)], this[_0x5d06d4(0x1c0)], this[_0x5d06d4(0x1b3)], this[_0x5d06d4(0x22d)]), this[_0x5d06d4(0x1c5)] = this[_0x5d06d4(0x221)], this['setMeasNoise'](this['LAST_N1'], this[_0x5d06d4(0x242)]), this[_0x5d06d4(0x222)] = this[_0x5d06d4(0x200)], this['setFramerate'](this['LAST_FRAMERATE']); } ['startTracker'](_0x54e963, _0xb8fd85) { var _0x4518c5 = _0x254145; this[_0x4518c5(0x1a8)] = _0x54e963['split'](','), this[_0x4518c5(0x18d)] = !![], this['TRACKER_NAME'] = _0xb8fd85; } [_0x254145(0x228)]() { var _0x2936a6 = _0x254145; this[_0x2936a6(0x18d)] = ![], Object[_0x2936a6(0x298)](this[_0x2936a6(0x23e)][_0x2936a6(0x236)])[_0x2936a6(0x164)](_0xf913fc => { var _0x4d6d4b = _0x2936a6; this[_0x4d6d4b(0x1ed)](_0xf913fc); }); } [_0x254145(0x233)]() { var _0x3467eb = _0x254145; this[_0x3467eb(0x225)] = !![], this['VIDEO']['pause'](); } [_0x254145(0x1f9)]() { var _0x5b9baa = _0x254145; this[_0x5b9baa(0x225)] = ![], this[_0x5b9baa(0x278)][_0x5b9baa(0x190)](); } [_0x254145(0x18a)](_0x3da02f) { var _0x23fd4b = _0x254145, _0x408d34 = Object[_0x23fd4b(0x298)](this[_0x23fd4b(0x23e)][_0x23fd4b(0x236)]); return _0x408d34[_0x23fd4b(0x192)](_0x3da02f); } ['setTrackerSettings'](_0x5e7be3) { var _0xd71c8c = _0x254145; console['log'](_0x5e7be3); var _0x1c2444 = JSON[_0xd71c8c(0x1ac)](_0x5e7be3); Object[_0xd71c8c(0x298)](_0x1c2444)[_0xd71c8c(0x164)](_0x4a127b => { var _0x4843b8 = _0xd71c8c; _0x4a127b in this && this[_0x4a127b] != _0x1c2444[_0x4a127b] && (this[_0x4a127b] = _0x1c2444[_0x4a127b], console[_0x4843b8(0x1ce)](_0x4843b8(0x1e8) + _0x4a127b + _0x4843b8(0x213) + _0x1c2444[_0x4a127b])); }), this['setQOS'](this[_0xd71c8c(0x210)]); } [_0x254145(0x296)](_0x3b35ff) { var _0x50502e = _0x254145; !_0x3b35ff && this['debugHide'](_0x50502e(0x296)); var _0x55ed9c = this[_0x50502e(0x23e)][_0x50502e(0x18e)][_0x3b35ff]; _0x55ed9c ? this['debugKps'](_0x55ed9c['gray'], _0x55ed9c['kp'], 'debugImageTarget') : this[_0x50502e(0x1a2)](_0x50502e(0x296)); } [_0x254145(0x202)]() { var _0x1cb8cc = _0x254145, _0x10cee5 = document['createElement'](_0x1cb8cc(0x2a9)); _0x10cee5['id'] = 'debugChooseCam'; var _0x1b2de4 = document[_0x1cb8cc(0x17f)]('startWebcamDiv'); _0x1b2de4['insertBefore'](_0x10cee5, _0x1b2de4[_0x1cb8cc(0x1bf)]), navigator[_0x1cb8cc(0x22b)][_0x1cb8cc(0x1cc)]()[_0x1cb8cc(0x2a6)](_0x3cb115 => { var _0x2f504b = _0x1cb8cc; console[_0x2f504b(0x1ce)](_0x3cb115); const _0x8b80c7 = _0x10cee5['value']; _0x10cee5[_0x2f504b(0x19c)] = '', _0x10cee5[_0x2f504b(0x206)](document[_0x2f504b(0x159)](_0x2f504b(0x1b1))); let _0x38021e = 0x1; _0x3cb115['forEach'](_0x156d7b => { var _0x430fc3 = _0x2f504b; if (_0x156d7b['kind'] === 'videoinput') { const _0x45699a = document[_0x430fc3(0x159)]('option'); _0x45699a[_0x430fc3(0x1a0)] = _0x156d7b[_0x430fc3(0x184)]; const _0x47e247 = _0x156d7b[_0x430fc3(0x1c6)] || 'Camera\x20' + _0x38021e++, _0x5aa850 = document[_0x430fc3(0x1c2)](_0x47e247); _0x45699a[_0x430fc3(0x206)](_0x5aa850), _0x10cee5[_0x430fc3(0x206)](_0x45699a), console[_0x430fc3(0x1ce)](_0x156d7b); } }); }); } ['startWebcam']() { var _0x2bc433 = _0x254145, _0x12145f = { 'video': { 'facingMode': _0x2bc433(0x271) }, 'audio': ![] }; if (this[_0x2bc433(0x26f)]) { var _0x2941bf = document[_0x2bc433(0x17f)]('debugChooseCam')[_0x2bc433(0x1a0)]; _0x12145f[_0x2bc433(0x184)] = { 'exact': _0x2941bf }, console['log'](_0x2941bf); } navigator[_0x2bc433(0x22b)]['getUserMedia'](_0x12145f)[_0x2bc433(0x2a6)](function (_0x34b505) { var _0xda0bc7 = _0x2bc433; const _0x4abda3 = document['createElement'](_0xda0bc7(0x16f)); _0x4abda3[_0xda0bc7(0x1ca)](_0xda0bc7(0x1f1), ''), _0x4abda3[_0xda0bc7(0x1ca)](_0xda0bc7(0x256), ''), _0x4abda3[_0xda0bc7(0x1ca)](_0xda0bc7(0x294), ''), _0x4abda3['srcObject'] = _0x34b505, tracker[_0xda0bc7(0x278)] = _0x4abda3, _0x4abda3[_0xda0bc7(0x24a)] = function (_0x3b42dd) { var _0x28ed4d = _0xda0bc7; _0x4abda3[_0x28ed4d(0x190)]()[_0x28ed4d(0x2a6)](() => { var _0x2f4b31 = _0x28ed4d; const _0x1ceb20 = document['createElement'](_0x2f4b31(0x24e)); document[_0x2f4b31(0x172)][_0x2f4b31(0x206)](_0x1ceb20), _0x1ceb20['id'] = _0x2f4b31(0x25d), console[_0x2f4b31(0x1ce)](_0x2f4b31(0x24a)), tracker['resize'](); const _0x576473 = _0x1ceb20[_0x2f4b31(0x170)]('2d'); tracker[_0x2f4b31(0x1fd)] = Date[_0x2f4b31(0x217)](), tracker[_0x2f4b31(0x1bb)] = Date[_0x2f4b31(0x217)](), tracker[_0x2f4b31(0x1b2)] = 0x0, tracker['UPDATE_INTERVAL'] = setInterval(tracker[_0x2f4b31(0x185)], 0x1 / tracker[_0x2f4b31(0x222)] * 0x3e8, _0x4abda3, _0x1ceb20, _0x576473), tracker[_0x2f4b31(0x168)] = _0x1ceb20, tracker[_0x2f4b31(0x17a)] = _0x576473; })[_0x28ed4d(0x29e)](function (_0x33922d) { var _0x314f7f = _0x28ed4d; console[_0x314f7f(0x1ce)]('video.play', _0x33922d); }); }; })[_0x2bc433(0x29e)](function (_0x4f33d1) { var _0x5e3e2f = _0x2bc433; console[_0x5e3e2f(0x1ce)](_0x5e3e2f(0x1e9), _0x4f33d1); }); } ['resize']() { var _0x45a565 = _0x254145, _0x36bd57 = document[_0x45a565(0x17f)](_0x45a565(0x25d)), _0xf6d19c = tracker[_0x45a565(0x278)]; if (!_0x36bd57 || !_0xf6d19c) return; _0x36bd57[_0x45a565(0x18f)] = _0xf6d19c[_0x45a565(0x21a)], _0x36bd57[_0x45a565(0x255)] = _0xf6d19c[_0x45a565(0x253)], tracker[_0x45a565(0x14d)] = _0xf6d19c['videoWidth'] / _0xf6d19c[_0x45a565(0x253)]; tracker[_0x45a565(0x14d)] > 0x1 ? (tracker[_0x45a565(0x1bc)] = tracker['MAX_PIXELS'], tracker[_0x45a565(0x23b)] = Math[_0x45a565(0x1b0)](tracker[_0x45a565(0x1bc)] / tracker['ASPECT_RATIO']), console['log']('landscape')) : (tracker[_0x45a565(0x23b)] = tracker[_0x45a565(0x162)], tracker[_0x45a565(0x1bc)] = Math['floor'](tracker['CANVAS_HEIGHT'] * tracker['ASPECT_RATIO']), console[_0x45a565(0x1ce)](_0x45a565(0x274))); console[_0x45a565(0x1ce)](_0x45a565(0x1da), _0xf6d19c[_0x45a565(0x21a)], _0xf6d19c[_0x45a565(0x253)]), console['log'](_0x45a565(0x188), _0x36bd57[_0x45a565(0x18f)], _0x36bd57[_0x45a565(0x255)]), console[_0x45a565(0x1ce)](_0x45a565(0x21c), tracker[_0x45a565(0x1bc)], tracker[_0x45a565(0x23b)]), console[_0x45a565(0x1ce)]('init\x20camera\x20matrix'); let _0x16f641 = tracker[_0x45a565(0x1bc)], _0x2b5e09 = tracker[_0x45a565(0x23b)]; tracker[_0x45a565(0x1e2)] = cv[_0x45a565(0x1e4)](0x3, 0x3, cv[_0x45a565(0x165)], [_0x16f641, 0x0, _0x16f641 * 0.5, 0x0, _0x16f641, _0x2b5e09 * 0.5, 0x0, 0x0, 0x1]), tracker[_0x45a565(0x216)] = cv[_0x45a565(0x1e4)](0x5, 0x1, cv[_0x45a565(0x165)], [0x0, 0x0, 0x0, 0x0, 0x0]), console['log']('CAM_MAT', tracker[_0x45a565(0x1e2)][_0x45a565(0x277)]); var _0x892fb5 = 0x1, _0x4c57d6 = window[_0x45a565(0x174)] / window['innerHeight'], _0x6004d2 = _0x36bd57[_0x45a565(0x18f)] / _0x36bd57[_0x45a565(0x255)]; _0x6004d2 > _0x4c57d6 ? (_0x36bd57[_0x45a565(0x28b)][_0x45a565(0x255)] = _0x45a565(0x247), _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x18f)] = 0x64 * _0x6004d2 + 'vh', _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x21d)] = '50%', _0x36bd57['style'][_0x45a565(0x23d)] = '50vh') : (_0x36bd57[_0x45a565(0x28b)][_0x45a565(0x18f)] = _0x45a565(0x1e0), _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x255)] = 0x64 / _0x6004d2 + 'vw', _0x36bd57['style'][_0x45a565(0x21d)] = '50vw', _0x36bd57['style'][_0x45a565(0x23d)] = '50%'), _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x1e7)] = 'translate(-50%,-50%)', _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x267)] = _0x45a565(0x20b), _0x36bd57[_0x45a565(0x28b)]['zIndex'] = _0x45a565(0x214), console[_0x45a565(0x1ce)](_0x45a565(0x269) + _0x36bd57[_0x45a565(0x18f)] + 'x' + _0x36bd57[_0x45a565(0x255)]), console['log']('video:\x20' + _0x36bd57['style'][_0x45a565(0x18f)] + 'x' + _0x36bd57[_0x45a565(0x28b)][_0x45a565(0x255)]), tracker[_0x45a565(0x17c)](); } [_0x254145(0x185)](_0x3449eb, _0x17a930, _0x563b7f) { var _0x31ce2d = _0x254145; if (tracker[_0x31ce2d(0x225)]) { console[_0x31ce2d(0x1ce)](_0x31ce2d(0x18c)); return; } _0x563b7f[_0x31ce2d(0x2a7)](0x0, 0x0, _0x17a930[_0x31ce2d(0x18f)], _0x17a930[_0x31ce2d(0x255)]), _0x563b7f[_0x31ce2d(0x16a)](_0x3449eb, 0x0, 0x0), _0x563b7f[_0x31ce2d(0x24d)](0x1, 0x0, 0x0, 0x1, 0x0, 0x0); if (!tracker['isStarted']) return; var _0x2ede60 = cv['imread'](_0x31ce2d(0x25d)); cv[_0x31ce2d(0x1ab)](_0x2ede60, _0x2ede60, { 'width': tracker['CANVAS_WIDTH'], 'height': tracker['CANVAS_HEIGHT'] }, 0x0, 0x0, cv[_0x31ce2d(0x194)]); var _0x303d5d = tracker[_0x31ce2d(0x1ea)](_0x2ede60); if (Date[_0x31ce2d(0x217)]() - tracker[_0x31ce2d(0x1bb)] > tracker['DETECT_INTERVAL']) { var _0x3e9875 = tracker[_0x31ce2d(0x21b)](_0x303d5d); tracker['lastDetectTime'] = Date[_0x31ce2d(0x217)](); var _0x5cdbf3 = tracker[_0x31ce2d(0x1df)](_0x3e9875); if (_0x5cdbf3) var _0x5bc445 = tracker[_0x31ce2d(0x179)](_0x303d5d, _0x5cdbf3['id'], _0x5cdbf3['roi']); _0x3e9875[_0x31ce2d(0x290)](); } tracker['track'](_0x303d5d), _0x303d5d[_0x31ce2d(0x290)](), _0x2ede60['delete'](); var _0x266fff = (Date[_0x31ce2d(0x217)]() - tracker[_0x31ce2d(0x1fd)]) / 0x3e8; tracker[_0x31ce2d(0x1fd)] = Date['now'](); } [_0x254145(0x1df)](_0x378f7e) { var _0x126a76 = _0x254145, _0x46e758 = Object['keys'](this[_0x126a76(0x23e)]['untracked']), _0x110788 = []; this[_0x126a76(0x1a8)]['forEach'](_0x218415 => { var _0x3f6687 = _0x126a76, _0x54740c = _0x46e758[_0x3f6687(0x265)](_0x218415); _0x54740c > -0x1 && _0x110788[_0x3f6687(0x173)](_0x218415); }); var _0x4f7a80 = Object[_0x126a76(0x298)](this['imageTargets'][_0x126a76(0x236)]); if (_0x110788[_0x126a76(0x2a0)] > 0x0 && _0x4f7a80[_0x126a76(0x2a0)] < this['MAX_SIMULTANEOUS_TRACK']) { var _0x39f5b5 = this[_0x126a76(0x1fa)], _0x530caa = this[_0x126a76(0x178)], _0x265075 = new cv['Rect']((this[_0x126a76(0x1bc)] - _0x39f5b5) / 0x2, (this[_0x126a76(0x23b)] - _0x39f5b5) / 0x2, _0x39f5b5, _0x39f5b5), _0x2df67d = _0x378f7e[_0x126a76(0x266)](_0x265075); cv[_0x126a76(0x1ab)](_0x2df67d, _0x2df67d, { 'width': _0x39f5b5 * _0x530caa, 'height': _0x39f5b5 * _0x530caa }, 0x0, 0x0, cv[_0x126a76(0x194)]); var _0x2650ad = this[_0x126a76(0x177)](_0x2df67d, this[_0x126a76(0x20c)], this[_0x126a76(0x282)]); this[_0x126a76(0x1b2)]++, this[_0x126a76(0x1b2)] %= _0x110788['length']; var _0xadae53 = _0x110788[this[_0x126a76(0x1b2)]], _0x4c7f82 = this[_0x126a76(0x23e)][_0x126a76(0x18e)][_0xadae53]; if (_0x4c7f82[_0x126a76(0x266)]) return { 'id': _0xadae53, 'roi': _0x4c7f82[_0x126a76(0x266)] }; var _0x43fd74 = this[_0x126a76(0x28a)](_0x2650ad[_0x126a76(0x20e)], _0x4c7f82[_0x126a76(0x1d7)], this[_0x126a76(0x169)], this[_0x126a76(0x29f)]), _0x1854ca = _0x43fd74[_0x126a76(0x263)]; _0x2650ad['kp'] = this['uncropKeypoints'](_0x2650ad['kp'], _0x265075, _0x530caa); if (_0x1854ca[_0x126a76(0x1d9)]() > this['H_MATCH_COUNT_DETECT_ROI']) { var _0x3a93a1 = this[_0x126a76(0x1c7)](_0x2650ad['kp'], _0x4c7f82[_0x126a76(0x2a2)], _0x1854ca, this[_0x126a76(0x1a6)]); if (_0x3a93a1) { var _0x32982b = _0x3a93a1['h'], _0x3c363e = _0x3a93a1[_0x126a76(0x16b)], _0xfcd96d = this[_0x126a76(0x1e5)](_0x4c7f82[_0x126a76(0x28d)][_0x126a76(0x151)] - 0x1, _0x4c7f82[_0x126a76(0x28d)]['rows'] - 0x1, _0x32982b); _0x32982b['delete'](), _0x3c363e[_0x126a76(0x290)](); var _0x3d07ce = this[_0x126a76(0x211)](_0xfcd96d); return _0xfcd96d[_0x126a76(0x290)](), { 'id': _0xadae53, 'roi': _0x3d07ce }; } } _0x2650ad['kp']['delete'](), _0x2650ad[_0x126a76(0x20e)]['delete'](), _0x1854ca[_0x126a76(0x290)](), _0x2df67d['delete'](); } return; } [_0x254145(0x179)](_0x2faa2, _0x536023, _0x9a1c17) { var _0x2675ca = _0x254145, _0x5576ee = _0x2faa2[_0x2675ca(0x266)](_0x9a1c17), _0x3f21b1 = _0x9a1c17[_0x2675ca(0x18f)] * _0x9a1c17[_0x2675ca(0x255)]; if (_0x3f21b1 > tracker[_0x2675ca(0x180)]) var _0x190a0b = Math[_0x2675ca(0x25c)](tracker['MAX_AREA'] / _0x3f21b1); else var _0x190a0b = 0x1; cv[_0x2675ca(0x1ab)](_0x5576ee, _0x5576ee, { 'width': _0x9a1c17[_0x2675ca(0x18f)] * _0x190a0b, 'height': _0x9a1c17[_0x2675ca(0x255)] * _0x190a0b }, 0x0, 0x0, cv[_0x2675ca(0x194)]); var _0x49071d = this[_0x2675ca(0x177)](_0x5576ee, this[_0x2675ca(0x20c)], this['extractor']); _0x49071d['kp'] = this['uncropKeypoints'](_0x49071d['kp'], _0x9a1c17, _0x190a0b); var _0x3a100c = this['imageTargets'][_0x2675ca(0x18e)][_0x536023], _0x5c8dc3 = this[_0x2675ca(0x28a)](_0x49071d[_0x2675ca(0x20e)], _0x3a100c['des'], this[_0x2675ca(0x169)], this[_0x2675ca(0x15a)]), _0x35ff9e = _0x5c8dc3[_0x2675ca(0x263)]; if (_0x35ff9e['size']() > this['H_MATCH_COUNT_DETECT']) { var _0x53b2e0 = this[_0x2675ca(0x1c7)](_0x49071d['kp'], _0x3a100c['kp'], _0x35ff9e, this[_0x2675ca(0x1a6)]); if (_0x53b2e0) { var _0x4c2424 = _0x53b2e0['h'], _0x8644bc = _0x53b2e0['refinedMatches'], _0xd1c166 = this[_0x2675ca(0x1e5)](_0x3a100c['gray'][_0x2675ca(0x151)] - 0x1, _0x3a100c['gray'][_0x2675ca(0x219)] - 0x1, _0x4c2424); return _0x3a100c[_0x2675ca(0x263)] = _0x8644bc, _0x3a100c[_0x2675ca(0x1eb)] = _0x4c2424, this[_0x2675ca(0x23e)][_0x2675ca(0x236)][_0x536023] = {}, Object[_0x2675ca(0x191)](this[_0x2675ca(0x23e)]['tracked'][_0x536023], _0x3a100c), delete this['imageTargets']['untracked'][_0x536023], _0xd1c166[_0x2675ca(0x290)](), console[_0x2675ca(0x1ce)]('tracked\x20' + _0x536023, this[_0x2675ca(0x23e)]), this['unityTargetFound'](_0x536023), this['trackedCount']++, this['trackedCount'] == 0x2 && this[_0x2675ca(0x258)](), _0x3a100c; } } else { if (_0x3a100c['roi']) delete _0x3a100c[_0x2675ca(0x266)]; } _0x49071d['kp'][_0x2675ca(0x290)](), _0x49071d['des'][_0x2675ca(0x290)](), _0x35ff9e[_0x2675ca(0x290)](), _0x5576ee[_0x2675ca(0x290)](); return; } [_0x254145(0x260)](_0x15ee47) { var _0x5192d3 = _0x254145, _0x257fa8 = Object[_0x5192d3(0x298)](this[_0x5192d3(0x23e)][_0x5192d3(0x236)]), _0xbb0239 = Object[_0x5192d3(0x298)](this[_0x5192d3(0x23e)]['tracked']); _0x257fa8[_0x5192d3(0x2a0)] > 0x0 && (_0x257fa8[_0x5192d3(0x164)](_0x5f4991 => { var _0x4e90c3 = _0x5192d3, _0x34debe = ![], _0x3b1256 = this[_0x4e90c3(0x23e)][_0x4e90c3(0x236)][_0x5f4991]; tracker[_0x4e90c3(0x18b)] && _0x3b1256[_0x4e90c3(0x263)][_0x4e90c3(0x1d9)]() < _0x3b1256['kp'][_0x4e90c3(0x1d9)]() && tracker[_0x4e90c3(0x155)](_0x15ee47, _0x3b1256); var _0x37c243 = 0x1; if (_0x3b1256[_0x4e90c3(0x1cf)]) { var _0x30b252 = _0x3b1256['lastPose'][_0x4e90c3(0x229)][_0x4e90c3(0x277)][0x2], _0x3ac69b = 0.1, _0x1c680e = 0x3, _0x2eb645 = 0.75, _0x4c1ea3 = 0x3; _0x37c243 = _0x4c1ea3 - (_0x30b252 - _0x3ac69b) / (_0x1c680e - _0x3ac69b) * (_0x4c1ea3 - _0x2eb645), _0x37c243 = Math[_0x4e90c3(0x287)](Math[_0x4e90c3(0x299)](_0x37c243, _0x2eb645), _0x4c1ea3); } var _0x1e99e3 = tracker[_0x4e90c3(0x24f)](_0x3b1256[_0x4e90c3(0x28d)], _0x3b1256[_0x4e90c3(0x1eb)]), _0x307686 = tracker[_0x4e90c3(0x1b7)](_0x3b1256['kp'], _0x3b1256[_0x4e90c3(0x263)], _0x3b1256[_0x4e90c3(0x1eb)], _0x37c243), _0x21896d = _0x307686['kp'], _0x10cb80 = _0x307686['matches'], _0x293770 = tracker['getPatches'](_0x1e99e3, _0x21896d, _0x37c243), _0xc65efb = tracker[_0x4e90c3(0x22a)](_0x15ee47, _0x293770, _0x37c243); tracker[_0x4e90c3(0x1a4)](_0x293770), _0x1e99e3[_0x4e90c3(0x290)](); var _0x57a744 = this[_0x4e90c3(0x1c7)](_0xc65efb, _0x3b1256['kp'], _0x10cb80, this['H_MATCH_COUNT_TRACK']); if (_0x57a744) { var _0x1a75ee = _0x57a744['h'], _0x2a7195 = _0x57a744[_0x4e90c3(0x16b)]; _0x3b1256[_0x4e90c3(0x263)][_0x4e90c3(0x290)](), _0x3b1256[_0x4e90c3(0x263)] = _0x2a7195; var _0x102da4 = this['getCorners'](_0x3b1256['gray'][_0x4e90c3(0x151)] - 0x1, _0x3b1256[_0x4e90c3(0x28d)][_0x4e90c3(0x219)] - 0x1, _0x1a75ee), _0x2f15fc = this[_0x4e90c3(0x211)](_0x102da4), _0x2a7b17 = tracker[_0x4e90c3(0x156)](_0x3b1256[_0x4e90c3(0x28d)][_0x4e90c3(0x151)], _0x3b1256[_0x4e90c3(0x28d)][_0x4e90c3(0x219)], _0x102da4, _0x3b1256[_0x4e90c3(0x1cf)]), _0x29cbd9 = this[_0x4e90c3(0x1a5)](_0x2a7b17, _0x5f4991); if (_0x29cbd9[_0x4e90c3(0x251)]) { _0x34debe = !![], _0x3b1256['homography']['delete'](), _0x3b1256[_0x4e90c3(0x1eb)] = _0x1a75ee, _0x3b1256[_0x4e90c3(0x266)] = _0x2f15fc; if (tracker[_0x4e90c3(0x25e)]) { if (_0x3b1256[_0x4e90c3(0x1dc)][_0x4e90c3(0x220)]) var _0x3f84eb = (Date[_0x4e90c3(0x217)]() - tracker[_0x4e90c3(0x1fd)]) / 0x3e8, _0x589121 = tracker[_0x4e90c3(0x1f2)](_0x5f4991, _0x3f84eb); tracker[_0x4e90c3(0x15e)](_0x5f4991, _0x2a7b17); var _0x1dfafa = this['filterNoise'](_0x2a7b17, _0x589121); this[_0x4e90c3(0x227)](_0x5f4991, _0x1dfafa), _0x589121 && _0x1dfafa == _0x2a7b17 && tracker[_0x4e90c3(0x205)](_0x5f4991); } else this[_0x4e90c3(0x227)](_0x5f4991, _0x2a7b17); } _0x102da4[_0x4e90c3(0x290)](); } _0x21896d[_0x4e90c3(0x290)](), _0x10cb80[_0x4e90c3(0x290)](); if (!_0x34debe) { if (tracker[_0x4e90c3(0x25e)]) tracker[_0x4e90c3(0x205)](_0x5f4991); this[_0x4e90c3(0x1ed)](_0x5f4991); } }), tracker[_0x5192d3(0x295)](_0x5192d3(0x22a))); } ['untrack'](_0x43ae5b) { var _0x45e751 = _0x254145, _0x123328 = this[_0x45e751(0x23e)]['tracked'][_0x43ae5b]; delete _0x123328[_0x45e751(0x263)], _0x123328[_0x45e751(0x1eb)][_0x45e751(0x290)](), delete _0x123328[_0x45e751(0x1eb)], delete _0x123328[_0x45e751(0x1cf)], this[_0x45e751(0x23e)][_0x45e751(0x18e)][_0x43ae5b] = {}, Object[_0x45e751(0x191)](this['imageTargets']['untracked'][_0x43ae5b], _0x123328), delete this[_0x45e751(0x23e)][_0x45e751(0x236)][_0x43ae5b], this[_0x45e751(0x1a9)]--, this[_0x45e751(0x1a9)] == 0x1 && this[_0x45e751(0x1d3)](), console[_0x45e751(0x1ce)](_0x45e751(0x212) + _0x43ae5b, this[_0x45e751(0x23e)]), this['unityTargetLost'](_0x43ae5b); } [_0x254145(0x26c)](_0x8f1aaa) { var _0x223bc2 = _0x254145; this['imageTargets'] = {}, this[_0x223bc2(0x23e)][_0x223bc2(0x18e)] = {}, this[_0x223bc2(0x23e)][_0x223bc2(0x236)] = {}; var _0x25521d = document[_0x223bc2(0x1af)]('imagetarget'), _0x3c97ef = document[_0x223bc2(0x159)]('canvas'), _0x54b673 = _0x3c97ef[_0x223bc2(0x170)]('2d'), _0x93ac7b = 0x0; _0x25521d[_0x223bc2(0x164)](_0xba902b => { var _0x26691d = _0x223bc2, _0x5c394c = _0xba902b[_0x26691d(0x1d5)]('id'), _0xaf8594 = _0xba902b['getAttribute'](_0x26691d(0x1a3)), _0x3b2ae3 = new Image(); _0x3b2ae3['onload'] = function () { var _0x27ff9e = _0x26691d; console['log'](_0x27ff9e(0x244) + _0x5c394c + _0x27ff9e(0x234) + _0xaf8594); var _0x3e43af = _0x3b2ae3[_0x27ff9e(0x18f)] * _0x3b2ae3[_0x27ff9e(0x255)]; if (_0x3e43af > tracker[_0x27ff9e(0x180)]) var _0x45bfee = Math[_0x27ff9e(0x25c)](tracker[_0x27ff9e(0x180)] / _0x3e43af); else var _0x45bfee = 0x1; _0x3c97ef[_0x27ff9e(0x18f)] = _0x3b2ae3[_0x27ff9e(0x18f)] * _0x45bfee, _0x3c97ef[_0x27ff9e(0x255)] = _0x3b2ae3['height'] * _0x45bfee, _0x54b673[_0x27ff9e(0x16a)](_0x3b2ae3, 0x0, 0x0, _0x3b2ae3[_0x27ff9e(0x18f)] * _0x45bfee, _0x3b2ae3[_0x27ff9e(0x255)] * _0x45bfee); var _0x4ba746 = new cv[(_0x27ff9e(0x1f3))](_0x3c97ef['height'], _0x3c97ef[_0x27ff9e(0x18f)], cv['CV_8UC4']); _0x4ba746[_0x27ff9e(0x1de)][_0x27ff9e(0x15c)](_0x54b673[_0x27ff9e(0x14e)](0x0, 0x0, _0x3c97ef[_0x27ff9e(0x18f)], _0x3c97ef[_0x27ff9e(0x255)])[_0x27ff9e(0x1de)]); var _0x50a458 = tracker['makeGray'](_0x4ba746), _0x38655a = tracker['detectCompute'](_0x50a458, tracker[_0x27ff9e(0x20c)], tracker['extractor']), _0x31fb82 = tracker['sharpen'](_0x50a458), _0x277fcd = tracker[_0x27ff9e(0x177)](_0x31fb82, tracker[_0x27ff9e(0x20c)], tracker[_0x27ff9e(0x282)]), _0x1a77e8 = {}; _0x1a77e8[_0x27ff9e(0x20e)] = _0x38655a[_0x27ff9e(0x20e)], _0x1a77e8['kp'] = _0x38655a['kp'], _0x1a77e8[_0x27ff9e(0x28d)] = _0x50a458, _0x1a77e8[_0x27ff9e(0x1d7)] = _0x277fcd[_0x27ff9e(0x20e)], _0x1a77e8[_0x27ff9e(0x2a2)] = _0x277fcd['kp'], _0x1a77e8[_0x27ff9e(0x275)] = _0x31fb82; var _0x37f6d1 = 0x1, _0x24f802 = 0x0, _0x4cdd19 = 0x1, _0x25268d = 0x0; for (var _0x12b26a = 0x0; _0x12b26a < _0x38655a['kp'][_0x27ff9e(0x1d9)](); _0x12b26a++) { var _0x28a0d7 = _0x50a458['size']()[_0x27ff9e(0x18f)], _0x33756f = _0x50a458['size']()['height'], _0x2faee7 = _0x38655a['kp'][_0x27ff9e(0x145)](_0x12b26a)['pt']['x'] / _0x28a0d7, _0x4285db = _0x38655a['kp']['get'](_0x12b26a)['pt']['y'] / _0x33756f; if (_0x2faee7 < _0x37f6d1) _0x37f6d1 = _0x2faee7; else { if (_0x2faee7 > _0x24f802) _0x24f802 = _0x2faee7; } if (_0x4285db < _0x4cdd19) _0x4cdd19 = _0x4285db; else { if (_0x4285db > _0x25268d) _0x25268d = _0x4285db; } } _0x1a77e8[_0x27ff9e(0x224)] = (_0x24f802 - _0x37f6d1) * (_0x25268d - _0x4cdd19), _0x1a77e8[_0x27ff9e(0x20f)] = Date[_0x27ff9e(0x217)](), tracker['imageTargets']['untracked'][_0x5c394c] = _0x1a77e8; if (tracker[_0x27ff9e(0x25e)]) tracker[_0x27ff9e(0x158)](_0x5c394c); _0x93ac7b++, _0x93ac7b == _0x25521d['length'] && _0x8f1aaa(); }, _0x3b2ae3['src'] = _0xaf8594; }); } [_0x254145(0x1ea)](_0x4de088, _0x2829e3 = ![]) { var _0x54718a = _0x254145, _0x32a916 = new cv[(_0x54718a(0x1f3))](); cv[_0x54718a(0x198)](_0x4de088, _0x32a916, cv[_0x54718a(0x182)], 0x0); if (_0x2829e3) this[_0x54718a(0x27e)](_0x32a916, _0x54718a(0x1ea)); return _0x32a916; } ['sharpen'](_0x1e155e, _0x49c40b = ![]) { var _0x46055f = _0x254145, _0x21a801 = new cv[(_0x46055f(0x1f3))](); cv[_0x46055f(0x1be)](_0x1e155e, _0x21a801, new cv[(_0x46055f(0x249))](0x0, 0x0), 0x3), cv[_0x46055f(0x29c)](_0x1e155e, 0x4, _0x21a801, -0x3, 0x0, _0x21a801); if (_0x49c40b) this[_0x46055f(0x27e)](dst2, _0x46055f(0x21b)); return _0x21a801; } [_0x254145(0x177)](_0x503ecd, _0x168328, _0x19c33a, _0x2a3911) { var _0x552007 = _0x254145; let _0x51dcc1 = new cv[(_0x552007(0x163))](), _0xc0aba0 = new cv[(_0x552007(0x1f3))](); return _0x168328[_0x552007(0x179)](_0x503ecd, _0x51dcc1, new cv['Mat']()), _0x19c33a[_0x552007(0x1f4)](_0x503ecd, _0x51dcc1, _0xc0aba0), _0x2a3911 && (this[_0x552007(0x262)](_0x503ecd, _0x51dcc1, _0x552007(0x177)), _0x2a3911[_0x552007(0x290)]()), { 'kp': _0x51dcc1, 'des': _0xc0aba0 }; } [_0x254145(0x28a)](_0x2c00b2, _0x5b667b, _0x2e7044, _0x1e9807, _0x31fc38 = ![], _0x19fa80, _0x358053, _0x2aec3b, _0x19f6c3) { var _0x38e2f3 = _0x254145; let _0x3d94a0 = new cv[(_0x38e2f3(0x25b))](), _0x9553f0 = new cv[(_0x38e2f3(0x17b))](); _0x2e7044[_0x38e2f3(0x16c)](_0x2c00b2, _0x5b667b, _0x9553f0, 0x2); for (let _0x4cf898 = 0x0; _0x4cf898 < _0x9553f0[_0x38e2f3(0x1d9)](); ++_0x4cf898) { let _0x21806d = _0x9553f0[_0x38e2f3(0x145)](_0x4cf898), _0x5d5d20 = _0x21806d[_0x38e2f3(0x145)](0x0), _0x21607c = _0x21806d[_0x38e2f3(0x145)](0x1); _0x5d5d20[_0x38e2f3(0x1b6)] < _0x21607c['distance'] * _0x1e9807 && _0x3d94a0[_0x38e2f3(0x281)](_0x5d5d20); } return _0x31fc38 && this[_0x38e2f3(0x26b)](_0x3d94a0, _0x19fa80, _0x358053, _0x2aec3b, _0x19f6c3), { 'matches': _0x3d94a0 }; } ['debugMatches'](_0x5cae14, _0x531cfe, _0x22a5c6, _0x2fe91e, _0x632f2f, _0x1f3862 = _0x254145(0x26b)) { var _0x43f101 = _0x254145, _0x25b999 = new cv['Mat'](); let _0x413a2d = new cv[(_0x43f101(0x2a1))](0x0, 0xff, 0x0, 0xff); cv[_0x43f101(0x2aa)](_0x531cfe, _0x2fe91e, _0x22a5c6, _0x632f2f, _0x5cae14, _0x25b999, _0x413a2d), this['debugShow'](_0x25b999, _0x1f3862), _0x25b999['delete'](); } [_0x254145(0x262)](_0x89954f, _0x2e642a, _0x5f5cda = 'debugKps') { var _0x3f7e50 = _0x254145, _0x3fc5d2 = new cv['Mat'](), _0x581785 = new cv[(_0x3f7e50(0x2a1))](0x0, 0xff, 0x0); cv[_0x3f7e50(0x23f)](_0x89954f, _0x2e642a, _0x3fc5d2, _0x581785), this[_0x3f7e50(0x27e)](_0x3fc5d2, _0x5f5cda), _0x3fc5d2[_0x3f7e50(0x290)](); } [_0x254145(0x1c7)](_0x355c0a, _0x51938f, _0x4f9cc2, _0x347680, _0x2964bf = ![], _0x389740, _0x290ebb) { var _0x3330ed = _0x254145; let _0x28338d = [], _0x28c13d = [], _0x5c56cb = _0x355c0a, _0x56ce66 = _0x51938f; for (let _0x4c53c5 = 0x0; _0x4c53c5 < _0x4f9cc2[_0x3330ed(0x1d9)](); _0x4c53c5++) { _0x28338d['push'](_0x5c56cb['get'](_0x4f9cc2[_0x3330ed(0x145)](_0x4c53c5)[_0x3330ed(0x273)])['pt']['x']), _0x28338d[_0x3330ed(0x173)](_0x5c56cb[_0x3330ed(0x145)](_0x4f9cc2[_0x3330ed(0x145)](_0x4c53c5)[_0x3330ed(0x273)])['pt']['y']), _0x28c13d[_0x3330ed(0x173)](_0x56ce66[_0x3330ed(0x145)](_0x4f9cc2[_0x3330ed(0x145)](_0x4c53c5)[_0x3330ed(0x203)])['pt']['x']), _0x28c13d[_0x3330ed(0x173)](_0x56ce66[_0x3330ed(0x145)](_0x4f9cc2['get'](_0x4c53c5)[_0x3330ed(0x203)])['pt']['y']); } if (_0x28338d[_0x3330ed(0x2a0)] / 0x2 >= _0x347680) { let _0x23f567 = cv[_0x3330ed(0x1e4)](_0x28338d[_0x3330ed(0x2a0)] / 0x2, 0x2, cv[_0x3330ed(0x165)], _0x28338d), _0x380995 = cv['matFromArray'](_0x28c13d[_0x3330ed(0x2a0)] / 0x2, 0x2, cv['CV_32F'], _0x28c13d), _0x3eff2d = new cv[(_0x3330ed(0x1f3))](), _0x381f36 = new cv[(_0x3330ed(0x25b))](), _0x3a6caa = cv[_0x3330ed(0x1d6)](_0x23f567, _0x380995, cv[_0x3330ed(0x1e1)], this[_0x3330ed(0x153)], _0x3eff2d, 0x7d0, 0.999); _0x23f567[_0x3330ed(0x290)](), _0x380995[_0x3330ed(0x290)](); if (_0x3a6caa[_0x3330ed(0x1a1)]()) return; var _0x28c3ca = 0x0; for (var _0x40159d = 0x0; _0x40159d < _0x4f9cc2[_0x3330ed(0x1d9)](); _0x40159d++) { if (_0x3eff2d[_0x3330ed(0x1de)][_0x40159d]) { if (_0x381f36[_0x3330ed(0x1d9)]() > this[_0x3330ed(0x1c5)]) { if (this['randomIntFromInterval'](0x0, 0x1) > 0x0) { var _0x503f49 = this[_0x3330ed(0x1dd)](0x0, this['TRACK_TARGET_MATCH_COUNT'] - 0x1); _0x381f36['set'](_0x503f49, _0x4f9cc2[_0x3330ed(0x145)](_0x40159d)); } } else _0x381f36[_0x3330ed(0x281)](_0x4f9cc2[_0x3330ed(0x145)](_0x40159d)); } _0x28c3ca++; } _0x3eff2d[_0x3330ed(0x290)](); if (_0x2964bf) { var _0x2964bf = new cv[(_0x3330ed(0x1f3))](); let _0x577c96 = new cv[(_0x3330ed(0x2a1))](0xff, 0xff, 0x0, 0xff); cv[_0x3330ed(0x2aa)](_0x389740, _0x355c0a, _0x290ebb, _0x51938f, _0x381f36, _0x2964bf, _0x577c96), this['debugShow'](_0x2964bf, 'getHomography'), _0x2964bf[_0x3330ed(0x290)](); } return { 'h': _0x3a6caa, 'refinedMatches': _0x381f36 }; } return; } [_0x254145(0x1e5)](_0x3cd2d6, _0x3c52e9, _0xc71e1f, _0x14b176 = ![], _0x5437e2) { var _0xdae61d = _0x254145, _0x1a0bbd = [0x0, 0x0, _0x3cd2d6, 0x0, _0x3cd2d6, _0x3c52e9, 0x0, _0x3c52e9], _0x38a6e2 = cv[_0xdae61d(0x1e4)](_0x1a0bbd[_0xdae61d(0x2a0)] / 0x2, 0x1, cv['CV_32FC2'], _0x1a0bbd), _0x956638 = new cv[(_0xdae61d(0x1f3))](); cv[_0xdae61d(0x1d2)](_0x38a6e2, _0x956638, _0xc71e1f['inv'](0x0)); if (_0x14b176) { var _0x2257b8 = new cv[(_0xdae61d(0x1f3))](); cv['cvtColor'](_0x5437e2, _0x2257b8, cv[_0xdae61d(0x189)], 0x0); var _0x121dcd = new cv[(_0xdae61d(0x2a1))](0xff, 0xff, 0x0), _0xdf9059 = [new cv[(_0xdae61d(0x27a))](_0x956638['data32F'][0x0], _0x956638[_0xdae61d(0x277)][0x1]), new cv['Point'](_0x956638[_0xdae61d(0x277)][0x2], _0x956638['data32F'][0x3]), new cv[(_0xdae61d(0x27a))](_0x956638[_0xdae61d(0x277)][0x4], _0x956638[_0xdae61d(0x277)][0x5]), new cv[(_0xdae61d(0x27a))](_0x956638[_0xdae61d(0x277)][0x6], _0x956638[_0xdae61d(0x277)][0x7])]; for (var _0x291941 = 0x0; _0x291941 < _0xdf9059[_0xdae61d(0x2a0)]; _0x291941++) { cv[_0xdae61d(0x1f5)](_0x2257b8, _0xdf9059[_0x291941], _0xdf9059[(_0x291941 + 0x1) % _0xdf9059[_0xdae61d(0x2a0)]], _0x121dcd, 0x2); } tracker[_0xdae61d(0x27e)](_0x2257b8, 'getCorners'), _0x2257b8[_0xdae61d(0x290)](); } return _0x38a6e2[_0xdae61d(0x290)](), _0x956638; } [_0x254145(0x211)](_0x50e80f, _0x1f3add) { var _0x46ff05 = _0x254145; let _0x6b9d10 = Math[_0x46ff05(0x231)](Math['min'](_0x50e80f[_0x46ff05(0x277)][0x0], _0x50e80f[_0x46ff05(0x277)][0x2], _0x50e80f['data32F'][0x4], _0x50e80f[_0x46ff05(0x277)][0x6])), _0x50fe84 = Math[_0x46ff05(0x231)](Math[_0x46ff05(0x299)](_0x50e80f[_0x46ff05(0x277)][0x0], _0x50e80f[_0x46ff05(0x277)][0x2], _0x50e80f['data32F'][0x4], _0x50e80f[_0x46ff05(0x277)][0x6])), _0x168772 = Math[_0x46ff05(0x231)](Math[_0x46ff05(0x287)](_0x50e80f[_0x46ff05(0x277)][0x1], _0x50e80f['data32F'][0x3], _0x50e80f['data32F'][0x5], _0x50e80f[_0x46ff05(0x277)][0x7])), _0xcef18f = Math[_0x46ff05(0x231)](Math[_0x46ff05(0x299)](_0x50e80f['data32F'][0x1], _0x50e80f[_0x46ff05(0x277)][0x3], _0x50e80f[_0x46ff05(0x277)][0x5], _0x50e80f['data32F'][0x7])); _0x6b9d10 = _0x6b9d10 < 0x0 ? 0x0 : _0x6b9d10, _0x168772 = _0x168772 < 0x0 ? 0x0 : _0x168772, _0x50fe84 = _0x50fe84 > this['CANVAS_WIDTH'] ? this[_0x46ff05(0x1bc)] : _0x50fe84, _0xcef18f = _0xcef18f > this['CANVAS_HEIGHT'] ? this[_0x46ff05(0x23b)] : _0xcef18f; var _0x2f3397 = new cv[(_0x46ff05(0x14c))](_0x6b9d10, _0x168772, _0x50fe84 - _0x6b9d10, _0xcef18f - _0x168772); if (_0x1f3add) { var _0x1f3add = new cv[(_0x46ff05(0x1f3))][(_0x46ff05(0x23c))](this['CANVAS_HEIGHT'], this[_0x46ff05(0x1bc)], cv[_0x46ff05(0x1aa)]); let _0x27f9ee = new Uint32Array([_0x6b9d10, _0x168772, _0x50fe84, _0x168772, _0x50fe84, _0xcef18f, _0x6b9d10, _0xcef18f]), _0x3adf3f = cv['matFromArray'](0x4, 0x1, cv[_0x46ff05(0x1f8)], _0x27f9ee); cv[_0x46ff05(0x16e)](_0x1f3add, _0x3adf3f, new cv[(_0x46ff05(0x2a1))](0xff)), _0x3adf3f[_0x46ff05(0x290)](), this[_0x46ff05(0x27e)](_0x1f3add, _0x46ff05(0x211)), _0x1f3add[_0x46ff05(0x290)](); } return _0x2f3397; } [_0x254145(0x248)](_0x5c7b0b, _0x350650, _0x3a3ad5) { var _0x4300e8 = _0x254145; for (var _0x4368ec = 0x0; _0x4368ec < _0x5c7b0b['size'](); _0x4368ec++) { var _0x2d9ffb = _0x5c7b0b[_0x4300e8(0x145)](_0x4368ec); _0x2d9ffb['pt']['x'] = _0x2d9ffb['pt']['x'] / _0x3a3ad5 + _0x350650['x'], _0x2d9ffb['pt']['y'] = _0x2d9ffb['pt']['y'] / _0x3a3ad5 + _0x350650['y'], _0x5c7b0b[_0x4300e8(0x15c)](_0x4368ec, _0x2d9ffb); } return _0x5c7b0b; } [_0x254145(0x24f)](_0x212fd5, _0x2120ce, _0x481f8e) { var _0x46a6f7 = _0x254145; let _0x320dd3 = new cv[(_0x46a6f7(0x1f3))](), _0x1125a0 = { 'width': this[_0x46a6f7(0x1bc)], 'height': this[_0x46a6f7(0x23b)] }; return cv['warpPerspective'](_0x212fd5, _0x320dd3, _0x2120ce, _0x1125a0, cv[_0x46a6f7(0x186)]), _0x481f8e && this[_0x46a6f7(0x27e)](_0x320dd3, _0x46a6f7(0x24f)), _0x320dd3; } [_0x254145(0x1b7)](_0x5692fa, _0x5e2f1c, _0x5c3cbc, _0x68d9e7, _0x156be7, _0x144422, _0x3e68c3) { var _0x16db10 = _0x254145, _0x35717f = (this[_0x16db10(0x1d4)] ? this['STABLE_WINDOW_SIZE'] : this[_0x16db10(0x161)]) * _0x68d9e7, _0x44ea57 = new cv[(_0x16db10(0x163))](), _0x9e1d8c = new cv['DMatchVector'](), _0x27394f = 0x0, _0x43af85 = []; for (var _0x2fa38f = 0x0; _0x2fa38f < _0x5e2f1c[_0x16db10(0x1d9)](); _0x2fa38f++) { var _0x1c1719 = _0x5e2f1c[_0x16db10(0x145)](_0x2fa38f), _0x23dcf3 = _0x5692fa[_0x16db10(0x145)](_0x1c1719[_0x16db10(0x203)])['pt']['x'], _0x18e39a = _0x5692fa['get'](_0x1c1719[_0x16db10(0x203)])['pt']['y']; _0x43af85['push'](_0x23dcf3), _0x43af85[_0x16db10(0x173)](_0x18e39a); } var _0x5f0aff = cv[_0x16db10(0x1e4)](_0x43af85[_0x16db10(0x2a0)] / 0x2, 0x1, cv['CV_32FC2'], _0x43af85), _0x410abd = new cv[(_0x16db10(0x1f3))](); cv[_0x16db10(0x1d2)](_0x5f0aff, _0x410abd, _0x5c3cbc['inv'](0x0)); for (var _0x2fa38f = 0x0; _0x2fa38f < _0x410abd[_0x16db10(0x277)]['length']; _0x2fa38f += 0x2) { var _0x1c1719 = _0x5e2f1c['get'](_0x2fa38f / 0x2), _0x4da87e = _0x5692fa[_0x16db10(0x145)](_0x1c1719[_0x16db10(0x203)]), _0x23dcf3 = _0x410abd[_0x16db10(0x277)][_0x2fa38f], _0x18e39a = _0x410abd[_0x16db10(0x277)][_0x2fa38f + 0x1]; if (_0x23dcf3 < _0x35717f / 0x2 || _0x23dcf3 > this['CANVAS_WIDTH'] - _0x35717f / 0x2 || _0x18e39a < _0x35717f / 0x2 || _0x18e39a > this[_0x16db10(0x23b)] - _0x35717f / 0x2) { _0x27394f++; continue; } _0x4da87e['pt']['x'] = _0x23dcf3, _0x4da87e['pt']['y'] = _0x18e39a, _0x44ea57['push_back'](_0x4da87e), _0x1c1719[_0x16db10(0x273)] = _0x2fa38f / 0x2 - _0x27394f, _0x9e1d8c[_0x16db10(0x281)](_0x1c1719); } _0x5f0aff[_0x16db10(0x290)](), _0x410abd[_0x16db10(0x290)](); if (_0x156be7) { var _0x156be7 = new cv['Mat'](), _0x2085e7 = new cv[(_0x16db10(0x2a1))](0xff, 0x0, 0xff); cv['drawMatches'](_0x144422, _0x44ea57, _0x3e68c3, _0x5692fa, _0x9e1d8c, _0x156be7, _0x2085e7), this['debugShow'](_0x156be7, _0x16db10(0x16d)), _0x156be7[_0x16db10(0x290)](); } return { 'kp': _0x44ea57, 'matches': _0x9e1d8c }; } [_0x254145(0x230)](_0x3a0a27, _0x21f4b4, _0x51810a, _0x29a8e4) { var _0x19975c = _0x254145; if (_0x29a8e4) { var _0x5490b2 = new cv['Mat'](); _0x3a0a27[_0x19975c(0x1ee)](_0x5490b2), cv[_0x19975c(0x198)](_0x5490b2, _0x5490b2, cv[_0x19975c(0x189)], 0x0); } var _0x4976dd = (this[_0x19975c(0x1d4)] ? this['STABLE_PATCH_SIZE'] : this[_0x19975c(0x1fe)]) * _0x51810a, _0x2b3c4e = (this[_0x19975c(0x1d4)] ? this[_0x19975c(0x23a)] : this[_0x19975c(0x161)]) * _0x51810a, _0x45ae6b = [], _0x421add = 0x0; for (var _0x50a78d = 0x0; _0x50a78d < _0x21f4b4[_0x19975c(0x1d9)](); _0x50a78d++) { var _0x138b21 = _0x21f4b4['get'](_0x50a78d), _0x47d042 = _0x138b21['pt']['x'], _0x597dd6 = _0x138b21['pt']['y']; if (_0x47d042 < _0x2b3c4e / 0x2 || _0x47d042 > _0x3a0a27[_0x19975c(0x1d9)]()[_0x19975c(0x18f)] - _0x2b3c4e / 0x2 || _0x597dd6 < _0x2b3c4e / 0x2 || _0x597dd6 > _0x3a0a27[_0x19975c(0x1d9)]()['height'] - _0x2b3c4e / 0x2) { _0x421add++; continue; } var _0xbb23f6 = Math[_0x19975c(0x1b0)](_0x4976dd / 0x2), _0x3955f4 = new cv[(_0x19975c(0x1f3))](), _0x31d2a4 = new cv[(_0x19975c(0x14c))](_0x47d042 - _0xbb23f6, _0x597dd6 - _0xbb23f6, _0x4976dd, _0x4976dd); _0x3955f4 = _0x3a0a27[_0x19975c(0x266)](_0x31d2a4), _0x45ae6b['push']({ 'keypoint': _0x138b21, 'patch': _0x3955f4 }), _0x29a8e4 && cv[_0x19975c(0x259)](_0x5490b2, new cv[(_0x19975c(0x27a))](_0x31d2a4['x'], _0x31d2a4['y']), new cv['Point'](_0x31d2a4['x'] + _0x31d2a4[_0x19975c(0x18f)], _0x31d2a4['y'] + _0x31d2a4['height']), new cv[(_0x19975c(0x2a1))](0x0, 0xff, 0xff), 0x1); } return _0x29a8e4 && (this[_0x19975c(0x27e)](_0x5490b2, _0x19975c(0x230)), _0x5490b2[_0x19975c(0x290)]()), _0x45ae6b; } [_0x254145(0x1a4)](_0x77974e) { _0x77974e['forEach'](_0x5819d2 => { var _0x38ec1e = _0x4826; _0x5819d2['patch'][_0x38ec1e(0x290)](); }); } [_0x254145(0x22a)](_0x1b3cf8, _0x27aae6, _0x13e2e4, _0x1494cb) { var _0x586803 = _0x254145, _0x50233f = (this[_0x586803(0x1d4)] ? this[_0x586803(0x19f)] : this[_0x586803(0x1fe)]) * _0x13e2e4, _0x4abf70 = (this[_0x586803(0x1d4)] ? this[_0x586803(0x23a)] : this[_0x586803(0x161)]) * _0x13e2e4, _0x5eef49 = new cv['KeyPointVector'](); if (_0x1494cb) { var _0x4ef712 = _0x586803(0x22a), _0x1a600e = this[_0x586803(0x1db)](_0x4ef712); if (!_0x1a600e) { var _0x1a600e = new cv[(_0x586803(0x1f3))](); cv[_0x586803(0x198)](_0x1b3cf8, _0x1a600e, cv[_0x586803(0x189)], 0x0); } } return _0x27aae6[_0x586803(0x164)](_0x381516 => { var _0x47602e = _0x586803, _0x746615 = _0x381516['keypoint'], _0x3df3dc = _0x746615['pt']['x'], _0x29f6ae = _0x746615['pt']['y'], _0x1b71ea = _0x381516[_0x47602e(0x1c3)], _0x49ea14 = Math[_0x47602e(0x1b0)](_0x50233f / 0x2), _0xf403f9 = new cv[(_0x47602e(0x14c))](_0x3df3dc - _0x49ea14, _0x29f6ae - _0x49ea14, _0x50233f, _0x50233f), _0x329466 = new cv[(_0x47602e(0x14c))](_0x3df3dc - _0x4abf70 / 0x2, _0x29f6ae - _0x4abf70 / 0x2, _0x4abf70, _0x4abf70); _0x1494cb && (cv[_0x47602e(0x259)](_0x1a600e, new cv[(_0x47602e(0x27a))](_0xf403f9['x'], _0xf403f9['y']), new cv['Point'](_0xf403f9['x'] + _0xf403f9[_0x47602e(0x18f)], _0xf403f9['y'] + _0xf403f9['height']), new cv[(_0x47602e(0x2a1))](0xff, 0x0, 0x0), 0x1), cv[_0x47602e(0x259)](_0x1a600e, new cv[(_0x47602e(0x27a))](_0x329466['x'], _0x329466['y']), new cv[(_0x47602e(0x27a))](_0x329466['x'] + _0x329466[_0x47602e(0x18f)], _0x329466['y'] + _0x329466['height']), new cv[(_0x47602e(0x2a1))](0x0, 0x0, 0xff), 0x1)); var _0x25a380 = _0x1b3cf8[_0x47602e(0x266)](_0x329466), _0x564a5c = new cv[(_0x47602e(0x1f3))](); cv['matchTemplate'](_0x25a380, _0x1b71ea, _0x564a5c, cv[_0x47602e(0x27c)]); var _0x218c96 = cv[_0x47602e(0x150)](_0x564a5c); _0x25a380[_0x47602e(0x290)](), _0x564a5c['delete'](); var _0x306a9b = new cv['Point'](_0x3df3dc - _0x4abf70 / 0x2 + _0x218c96['maxLoc']['x'], _0x29f6ae - _0x4abf70 / 0x2 + _0x218c96['maxLoc']['y']), _0x392c5a = new cv[(_0x47602e(0x27a))](_0x306a9b['x'] + _0x50233f, _0x306a9b['y'] + _0x50233f); _0x746615['pt']['x'] = _0x306a9b['x'] + Math[_0x47602e(0x2a5)](_0x50233f / 0x2), _0x746615['pt']['y'] = _0x306a9b['y'] + Math[_0x47602e(0x2a5)](_0x50233f / 0x2), _0x5eef49[_0x47602e(0x281)](_0x746615), _0x1494cb && cv[_0x47602e(0x259)](_0x1a600e, _0x306a9b, _0x392c5a, new cv[(_0x47602e(0x2a1))](0xff, 0xff, 0x0), 0x1); }), _0x1494cb && (this[_0x586803(0x27e)](_0x1a600e, _0x4ef712), this[_0x586803(0x19d)](_0x1a600e, _0x4ef712)), _0x5eef49; } [_0x254145(0x156)](_0x1e5219, _0x301a8c, _0x1ac13e, _0x5d66f7 = null, _0x9aa79d = ![], _0x1aba8a) { var _0x141891 = _0x254145; if (_0x9aa79d) { var _0x4e2995 = new cv[(_0x141891(0x1f3))](); cv[_0x141891(0x198)](_0x1aba8a, _0x4e2995, cv['COLOR_GRAY2RGB'], 0x0); } var _0x266e86 = Math['max'](_0x1e5219, _0x301a8c); _0x1e5219 = _0x1e5219 / _0x266e86 * 0.5, _0x301a8c = _0x301a8c / _0x266e86 * 0.5; var _0x24549d = [-_0x1e5219, _0x301a8c, 0x0, _0x1e5219, _0x301a8c, 0x0, _0x1e5219, -_0x301a8c, 0x0, -_0x1e5219, -_0x301a8c, 0x0], _0x47daf9 = []; for (var _0x28abea = 0x0; _0x28abea < _0x1ac13e[_0x141891(0x277)]['length']; _0x28abea += 0x2) { _0x47daf9[_0x141891(0x173)](_0x1ac13e[_0x141891(0x277)][_0x28abea]), _0x47daf9[_0x141891(0x173)](_0x1ac13e[_0x141891(0x277)][_0x28abea + 0x1]), _0x9aa79d && cv[_0x141891(0x241)](_0x4e2995, new cv[(_0x141891(0x27a))](_0x1ac13e[_0x141891(0x277)][_0x28abea], _0x1ac13e['data32F'][_0x28abea + 0x1]), 0x3, new cv[(_0x141891(0x2a1))](0xff, 0x0, 0x0), 0x3); } _0x47daf9 = cv[_0x141891(0x1e4)](_0x47daf9[_0x141891(0x2a0)] / 0x2, 0x2, cv[_0x141891(0x165)], _0x47daf9), _0x24549d = cv['matFromArray'](_0x24549d[_0x141891(0x2a0)] / 0x3, 0x3, cv[_0x141891(0x165)], _0x24549d); var _0x471db3 = new cv['Mat'](0x3, 0x1, cv[_0x141891(0x165)]), _0x2d540e = new cv[(_0x141891(0x1f3))](0x3, 0x1, cv['CV_32F']), _0x3b8e01 = ![]; if (_0x5d66f7) { _0x5d66f7['tvec'][_0x141891(0x1ee)](_0x471db3); var _0x2d540e = new cv[(_0x141891(0x1f3))](0x3, 0x1, cv[_0x141891(0x165)]); cv[_0x141891(0x1ae)](_0x5d66f7[_0x141891(0x166)], _0x2d540e), _0x3b8e01 = !![]; } var _0x5e89eb = cv[_0x141891(0x14a)](_0x24549d, _0x47daf9, this['CAM_MAT'], this[_0x141891(0x216)], _0x2d540e, _0x471db3, _0x3b8e01, cv[_0x141891(0x1e6)]), _0x2b52a = new cv[(_0x141891(0x1f3))](); cv['Rodrigues'](_0x2d540e, _0x2b52a); if (_0x9aa79d) { var _0x184d75 = [0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, -_0x1e5219, _0x301a8c, 0x0, _0x1e5219, _0x301a8c, 0x0, _0x1e5219, -_0x301a8c, 0x0, -_0x1e5219, -_0x301a8c, 0x0], _0x184d75 = cv[_0x141891(0x1e4)](0x8, 0x3, cv[_0x141891(0x165)], _0x184d75); cv[_0x141891(0x208)](_0x184d75, _0x2d540e, _0x471db3, this[_0x141891(0x1e2)], this[_0x141891(0x216)], _0x184d75), cv[_0x141891(0x1f5)](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x0], _0x184d75['data32F'][0x1]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x2], _0x184d75[_0x141891(0x277)][0x3]), new cv[(_0x141891(0x2a1))](0xff, 0x0, 0x0), 0x2), cv[_0x141891(0x1f5)](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75['data32F'][0x0], _0x184d75[_0x141891(0x277)][0x1]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x4], _0x184d75['data32F'][0x5]), new cv['Scalar'](0x0, 0xff, 0x0), 0x2), cv[_0x141891(0x1f5)](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x0], _0x184d75['data32F'][0x1]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x6], _0x184d75['data32F'][0x7]), new cv[(_0x141891(0x2a1))](0x0, 0x0, 0xff), 0x2), cv['line'](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x8], _0x184d75[_0x141891(0x277)][0x9]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0xa], _0x184d75[_0x141891(0x277)][0xb]), new cv[(_0x141891(0x2a1))](0xff, 0x0, 0xff), 0x2), cv[_0x141891(0x1f5)](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0xa], _0x184d75[_0x141891(0x277)][0xb]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0xc], _0x184d75['data32F'][0xd]), new cv['Scalar'](0xff, 0x0, 0xff), 0x2), cv['line'](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75['data32F'][0xc], _0x184d75[_0x141891(0x277)][0xd]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0xe], _0x184d75['data32F'][0xf]), new cv[(_0x141891(0x2a1))](0xff, 0x0, 0xff), 0x2), cv['line'](_0x4e2995, new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0xe], _0x184d75[_0x141891(0x277)][0xf]), new cv[(_0x141891(0x27a))](_0x184d75[_0x141891(0x277)][0x8], _0x184d75[_0x141891(0x277)][0x9]), new cv[(_0x141891(0x2a1))](0xff, 0x0, 0xff), 0x2), _0x184d75['delete'](), this[_0x141891(0x27e)](_0x4e2995, _0x141891(0x156)), _0x4e2995[_0x141891(0x290)](); } return _0x47daf9[_0x141891(0x290)](), _0x24549d['delete'](), { 'rotMat': _0x2b52a, 'tvec': _0x471db3 }; } ['isPoseValid'](_0x4ad8a5, _0x1d257e, _0x38dff8) { var _0x4a56b7 = _0x254145, _0x6d39a7 = this[_0x4a56b7(0x23e)][_0x4a56b7(0x236)][_0x1d257e]; if (!_0x6d39a7['lastPose']) return _0x6d39a7[_0x4a56b7(0x1cf)] = _0x4ad8a5, { 'valid': !![], 'deltapos': 0x0, 'deltaup': 0x1, 'deltaforward': 0x1 }; var _0x3e402a = _0x6d39a7[_0x4a56b7(0x1cf)]['tvec'], _0x35aec1 = _0x4ad8a5['tvec'], _0x1d7f26 = Math[_0x4a56b7(0x204)](_0x35aec1[_0x4a56b7(0x277)][0x0] - _0x3e402a[_0x4a56b7(0x277)][0x0], 0x2) + Math[_0x4a56b7(0x204)](_0x35aec1['data32F'][0x1] - _0x3e402a[_0x4a56b7(0x277)][0x1], 0x2) + Math[_0x4a56b7(0x204)](_0x35aec1[_0x4a56b7(0x277)][0x2] - _0x3e402a[_0x4a56b7(0x277)][0x2], 0x2), _0x5d9fee = _0x6d39a7[_0x4a56b7(0x1cf)][_0x4a56b7(0x166)], _0x2b2fa2 = new cv[(_0x4a56b7(0x1f3))](0x3, 0x1, cv['CV_32F']); _0x2b2fa2[_0x4a56b7(0x277)][0x0] = _0x5d9fee[_0x4a56b7(0x277)][0x3], _0x2b2fa2[_0x4a56b7(0x277)][0x1] = _0x5d9fee[_0x4a56b7(0x277)][0x4], _0x2b2fa2[_0x4a56b7(0x277)][0x2] = _0x5d9fee[_0x4a56b7(0x277)][0x5]; var _0x251e74 = new cv[(_0x4a56b7(0x1f3))](0x3, 0x1, cv[_0x4a56b7(0x165)]); _0x251e74[_0x4a56b7(0x277)][0x0] = _0x4ad8a5[_0x4a56b7(0x166)][_0x4a56b7(0x277)][0x3], _0x251e74[_0x4a56b7(0x277)][0x1] = _0x4ad8a5[_0x4a56b7(0x166)][_0x4a56b7(0x277)][0x4], _0x251e74[_0x4a56b7(0x277)][0x2] = _0x4ad8a5['rotMat'][_0x4a56b7(0x277)][0x5]; var _0x328c61 = new cv[(_0x4a56b7(0x1f3))](0x3, 0x1, cv[_0x4a56b7(0x165)]); _0x328c61[_0x4a56b7(0x277)][0x0] = _0x5d9fee[_0x4a56b7(0x277)][0x6], _0x328c61['data32F'][0x1] = _0x5d9fee[_0x4a56b7(0x277)][0x7], _0x328c61[_0x4a56b7(0x277)][0x2] = _0x5d9fee[_0x4a56b7(0x277)][0x8]; var _0x51f20a = new cv[(_0x4a56b7(0x1f3))](0x3, 0x1, cv[_0x4a56b7(0x165)]); _0x51f20a['data32F'][0x0] = _0x4ad8a5[_0x4a56b7(0x166)]['data32F'][0x6], _0x51f20a['data32F'][0x1] = _0x4ad8a5[_0x4a56b7(0x166)][_0x4a56b7(0x277)][0x7], _0x51f20a[_0x4a56b7(0x277)][0x2] = _0x4ad8a5[_0x4a56b7(0x166)][_0x4a56b7(0x277)][0x8]; var _0x141fca = _0x251e74['dot'](_0x2b2fa2), _0xe18982 = _0x51f20a[_0x4a56b7(0x245)](_0x328c61); _0x2b2fa2[_0x4a56b7(0x290)](), _0x251e74['delete'](), _0x328c61[_0x4a56b7(0x290)](), _0x51f20a[_0x4a56b7(0x290)](); if (_0x38dff8) console[_0x4a56b7(0x1ce)]('checkpose', _0x1d7f26, _0x141fca, _0xe18982); return _0x1d7f26 < this['VALID_POSE_DELTA_POS'] && _0x141fca > this[_0x4a56b7(0x250)] && _0xe18982 > this['VALID_POSE_DELTA_ROT'] ? (_0x6d39a7[_0x4a56b7(0x1cf)]['tvec'][_0x4a56b7(0x290)](), _0x6d39a7['lastPose'][_0x4a56b7(0x166)][_0x4a56b7(0x290)](), _0x6d39a7['lastPose'] = _0x4ad8a5, this[_0x4a56b7(0x1d4)] = _0x1d7f26 < this[_0x4a56b7(0x196)] && _0x141fca > this[_0x4a56b7(0x28f)] && _0xe18982 > this[_0x4a56b7(0x28f)], { 'valid': !![], 'deltapos': _0x1d7f26, 'deltaup': _0x141fca, 'deltaforward': _0xe18982 }) : { 'valid': ![], 'deltapos': _0x1d7f26, 'deltaup': _0x141fca, 'deltaforward': _0xe18982 }; } [_0x254145(0x252)](_0x4a74e1, _0x4f9742, _0x7d9756) { var _0x5829d6 = _0x254145; if (!_0x4f9742) return _0x4a74e1; var _0x356b82 = _0x4a74e1[_0x5829d6(0x229)], _0x2320b8 = _0x4f9742['tvec'], _0x4203ff = Math[_0x5829d6(0x204)](_0x356b82[_0x5829d6(0x277)][0x0] - _0x2320b8[_0x5829d6(0x277)][0x0], 0x2) + Math['pow'](_0x356b82['data32F'][0x1] - _0x2320b8['data32F'][0x1], 0x2) + Math[_0x5829d6(0x204)](_0x356b82[_0x5829d6(0x277)][0x2] - _0x2320b8[_0x5829d6(0x277)][0x2], 0x2), _0x49f994 = _0x4f9742['rotMat'], _0x45fa3c = new cv['Mat'](0x3, 0x1, cv['CV_32F']); _0x45fa3c[_0x5829d6(0x277)][0x0] = _0x49f994[_0x5829d6(0x277)][0x3], _0x45fa3c['data32F'][0x1] = _0x49f994['data32F'][0x4], _0x45fa3c['data32F'][0x2] = _0x49f994['data32F'][0x5]; var _0x55944d = new cv['Mat'](0x3, 0x1, cv[_0x5829d6(0x165)]); _0x55944d[_0x5829d6(0x277)][0x0] = _0x4a74e1[_0x5829d6(0x166)][_0x5829d6(0x277)][0x3], _0x55944d['data32F'][0x1] = _0x4a74e1['rotMat']['data32F'][0x4], _0x55944d[_0x5829d6(0x277)][0x2] = _0x4a74e1[_0x5829d6(0x166)][_0x5829d6(0x277)][0x5]; var _0x32bc86 = new cv['Mat'](0x3, 0x1, cv[_0x5829d6(0x165)]); _0x32bc86['data32F'][0x0] = _0x49f994[_0x5829d6(0x277)][0x6], _0x32bc86[_0x5829d6(0x277)][0x1] = _0x49f994[_0x5829d6(0x277)][0x7], _0x32bc86[_0x5829d6(0x277)][0x2] = _0x49f994[_0x5829d6(0x277)][0x8]; var _0x187c3f = new cv[(_0x5829d6(0x1f3))](0x3, 0x1, cv[_0x5829d6(0x165)]); _0x187c3f['data32F'][0x0] = _0x4a74e1['rotMat'][_0x5829d6(0x277)][0x6], _0x187c3f[_0x5829d6(0x277)][0x1] = _0x4a74e1['rotMat']['data32F'][0x7], _0x187c3f[_0x5829d6(0x277)][0x2] = _0x4a74e1[_0x5829d6(0x166)][_0x5829d6(0x277)][0x8]; var _0x134203 = _0x55944d[_0x5829d6(0x245)](_0x45fa3c), _0x588cf7 = _0x187c3f[_0x5829d6(0x245)](_0x32bc86); _0x45fa3c[_0x5829d6(0x290)](), _0x55944d[_0x5829d6(0x290)](), _0x32bc86[_0x5829d6(0x290)](), _0x187c3f[_0x5829d6(0x290)](); if (_0x4203ff < this[_0x5829d6(0x1e3)] && _0x134203 > this['KALMAN_DELTA_ROT'] && _0x588cf7 > this[_0x5829d6(0x19a)]) { if (_0x7d9756) console['log'](_0x5829d6(0x22f), _0x4203ff, _0x134203, _0x588cf7); return _0x4f9742; } else { if (_0x7d9756) console['log']('filterNoise\x20->\x20poseRaw', _0x4203ff, _0x134203, _0x588cf7); return _0x4a74e1; } } [_0x254145(0x158)](_0x4adc97) { var _0x3190e0 = _0x254145, _0x41c43e = this[_0x3190e0(0x23e)][_0x3190e0(0x18e)][_0x4adc97]; _0x41c43e[_0x3190e0(0x1dc)] = {}, _0x41c43e['kalman']['kf'] = new cv[(_0x3190e0(0x1f0))](0x15, 0x7, 0x0, cv[_0x3190e0(0x165)]), _0x41c43e[_0x3190e0(0x1dc)][_0x3190e0(0x243)] = new cv['Mat'](0x15, 0x1, cv['CV_32F']), _0x41c43e['kalman'][_0x3190e0(0x293)] = new cv[(_0x3190e0(0x1f3))](0x7, 0x1, cv[_0x3190e0(0x165)]), this[_0x3190e0(0x29d)](_0x41c43e[_0x3190e0(0x1dc)]['kf'], 0x1 / this['FRAMERATE']), _0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x15f)] = cv[_0x3190e0(0x1e4)](0x7, 0x15, cv[_0x3190e0(0x165)], [0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), this['setNoise21x21'](_0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x285)]), this['setNoise7x7'](_0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x215)]), _0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x14f)]['delete'](), _0x41c43e[_0x3190e0(0x1dc)][_0x3190e0(0x243)][_0x3190e0(0x1ee)](_0x41c43e['kalman']['kf'][_0x3190e0(0x14f)]), _0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x1bd)][_0x3190e0(0x290)](), _0x41c43e[_0x3190e0(0x1dc)][_0x3190e0(0x243)]['copyTo'](_0x41c43e[_0x3190e0(0x1dc)]['kf'][_0x3190e0(0x1bd)]), _0x41c43e[_0x3190e0(0x1dc)][_0x3190e0(0x220)] = ![]; } [_0x254145(0x205)](_0x163558) { var _0x4bd9b8 = _0x254145, _0x3c714e = this[_0x4bd9b8(0x23e)][_0x4bd9b8(0x236)][_0x163558]; this[_0x4bd9b8(0x22c)](_0x3c714e['kalman']['kf'][_0x4bd9b8(0x146)]), _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x243)][_0x4bd9b8(0x290)](), _0x3c714e[_0x4bd9b8(0x1dc)]['state'] = cv[_0x4bd9b8(0x1e4)](0x15, 0x1, cv[_0x4bd9b8(0x165)], [_0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x293)]['data32F'][0x0], _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x293)][_0x4bd9b8(0x277)][0x1], _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x293)][_0x4bd9b8(0x277)][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x293)]['data32F'][0x3], _0x3c714e[_0x4bd9b8(0x1dc)]['meas']['data32F'][0x4], _0x3c714e[_0x4bd9b8(0x1dc)]['meas'][_0x4bd9b8(0x277)][0x5], _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x293)][_0x4bd9b8(0x277)][0x6], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0x3c714e['kalman']['kf'][_0x4bd9b8(0x1bd)][_0x4bd9b8(0x290)](), _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x243)][_0x4bd9b8(0x1ee)](_0x3c714e[_0x4bd9b8(0x1dc)]['kf']['statePost']), _0x3c714e[_0x4bd9b8(0x1dc)][_0x4bd9b8(0x220)] = ![]; } [_0x254145(0x1f2)](_0x830292, _0x479eb3) { var _0x56a219 = _0x254145, _0x5d76b2 = this['imageTargets'][_0x56a219(0x236)][_0x830292]; this[_0x56a219(0x29d)](_0x5d76b2[_0x56a219(0x1dc)]['kf'], _0x479eb3), _0x5d76b2[_0x56a219(0x1dc)][_0x56a219(0x243)][_0x56a219(0x290)](), _0x5d76b2[_0x56a219(0x1dc)]['state'] = _0x5d76b2[_0x56a219(0x1dc)]['kf'][_0x56a219(0x15b)](); var _0xebb908 = cv[_0x56a219(0x1e4)](0x3, 0x4, cv[_0x56a219(0x165)], [_0x5d76b2[_0x56a219(0x1dc)][_0x56a219(0x243)]['data32F'][0x0], _0x5d76b2[_0x56a219(0x1dc)][_0x56a219(0x243)][_0x56a219(0x277)][0x1], _0x5d76b2[_0x56a219(0x1dc)][_0x56a219(0x243)][_0x56a219(0x277)][0x2]]), _0xcaa8d6 = _0x5d76b2['kalman']['state'][_0x56a219(0x277)][0x9], _0x5ae569 = _0x5d76b2[_0x56a219(0x1dc)][_0x56a219(0x243)][_0x56a219(0x277)][0xa], _0x6e03f1 = _0x5d76b2['kalman'][_0x56a219(0x243)][_0x56a219(0x277)][0xb], _0x38ade9 = _0x5d76b2['kalman']['state']['data32F'][0xc], _0xbe3244 = Math[_0x56a219(0x25c)](_0xcaa8d6 * _0xcaa8d6 + _0x5ae569 * _0x5ae569 + _0x6e03f1 * _0x6e03f1 + _0x38ade9 * _0x38ade9); _0xcaa8d6 /= _0xbe3244, _0x5ae569 /= _0xbe3244, _0x6e03f1 /= _0xbe3244, _0x38ade9 /= _0xbe3244; var _0x166b3b = cv['matFromArray'](0x3, 0x3, cv[_0x56a219(0x165)], [_0xcaa8d6 * _0xcaa8d6 + _0x5ae569 * _0x5ae569 + _0x6e03f1 * _0x6e03f1 + _0x38ade9 * _0x38ade9, 0x2 * (_0x5ae569 * _0x6e03f1 - _0xcaa8d6 * _0x38ade9), 0x2 * (_0x5ae569 * _0x38ade9 + _0xcaa8d6 * _0x6e03f1), 0x2 * (_0x5ae569 * _0x6e03f1 + _0xcaa8d6 * _0x38ade9), _0xcaa8d6 * _0xcaa8d6 - _0x5ae569 * _0x5ae569 + _0x6e03f1 * _0x6e03f1 - _0x38ade9 * _0x38ade9, 0x2 * (_0x6e03f1 * _0x38ade9 - _0xcaa8d6 * _0x5ae569), 0x2 * (_0x5ae569 * _0x38ade9 - _0xcaa8d6 * _0x6e03f1), 0x2 * (_0x6e03f1 * _0x38ade9 + _0xcaa8d6 * _0x5ae569), _0xcaa8d6 * _0xcaa8d6 - _0x5ae569 * _0x5ae569 - _0x6e03f1 * _0x6e03f1 + _0x38ade9 * _0x38ade9]); return { 'rotMat': _0x166b3b, 'tvec': _0xebb908 }; } ['correctKalman'](_0x280d45, _0xc21267) { var _0x86d09 = _0x254145, _0x37fa6d = this[_0x86d09(0x23e)][_0x86d09(0x236)][_0x280d45], _0x4260a3 = _0xc21267[_0x86d09(0x229)], _0x58e3e3 = _0xc21267[_0x86d09(0x166)]['t'](), _0x5cf74e = _0x58e3e3[_0x86d09(0x277)][0x0] + _0x58e3e3[_0x86d09(0x277)][0x4] + _0x58e3e3[_0x86d09(0x277)][0x8], _0x34cd63, _0x53907d, _0x4bf792, _0x4fbfc2; if (_0x5cf74e > 0x0) { var _0xf1095a = Math[_0x86d09(0x25c)](_0x5cf74e + 0x1) * 0x2; _0x34cd63 = 0.25 * _0xf1095a, _0x53907d = (_0x58e3e3[_0x86d09(0x277)][0x5] - _0x58e3e3[_0x86d09(0x277)][0x7]) / _0xf1095a, _0x4bf792 = (_0x58e3e3[_0x86d09(0x277)][0x6] - _0x58e3e3[_0x86d09(0x277)][0x2]) / _0xf1095a, _0x4fbfc2 = (_0x58e3e3[_0x86d09(0x277)][0x1] - _0x58e3e3[_0x86d09(0x277)][0x3]) / _0xf1095a; } else { if (_0x58e3e3['data32F'][0x0] > _0x58e3e3[_0x86d09(0x277)][0x4] & _0x58e3e3[_0x86d09(0x277)][0x0] > _0x58e3e3[_0x86d09(0x277)][0x8]) { var _0xf1095a = Math[_0x86d09(0x25c)](0x1 + _0x58e3e3[_0x86d09(0x277)][0x0] - _0x58e3e3[_0x86d09(0x277)][0x4] - _0x58e3e3[_0x86d09(0x277)][0x8]) * 0x2; _0x34cd63 = (_0x58e3e3[_0x86d09(0x277)][0x5] - _0x58e3e3[_0x86d09(0x277)][0x7]) / _0xf1095a, _0x53907d = 0.25 * _0xf1095a, _0x4bf792 = (_0x58e3e3[_0x86d09(0x277)][0x3] + _0x58e3e3[_0x86d09(0x277)][0x1]) / _0xf1095a, _0x4fbfc2 = (_0x58e3e3['data32F'][0x6] + _0x58e3e3[_0x86d09(0x277)][0x2]) / _0xf1095a; } else { if (_0x58e3e3['data32F'][0x4] > _0x58e3e3[_0x86d09(0x277)][0x8]) { var _0xf1095a = Math['sqrt'](0x1 + _0x58e3e3[_0x86d09(0x277)][0x4] - _0x58e3e3[_0x86d09(0x277)][0x0] - _0x58e3e3[_0x86d09(0x277)][0x8]) * 0x2; _0x34cd63 = (_0x58e3e3[_0x86d09(0x277)][0x6] - _0x58e3e3[_0x86d09(0x277)][0x2]) / _0xf1095a, _0x53907d = (_0x58e3e3[_0x86d09(0x277)][0x3] + _0x58e3e3['data32F'][0x1]) / _0xf1095a, _0x4bf792 = 0.25 * _0xf1095a, _0x4fbfc2 = (_0x58e3e3['data32F'][0x7] + _0x58e3e3[_0x86d09(0x277)][0x5]) / _0xf1095a; } else { var _0xf1095a = Math['sqrt'](0x1 + _0x58e3e3[_0x86d09(0x277)][0x8] - _0x58e3e3['data32F'][0x0] - _0x58e3e3['data32F'][0x4]) * 0x2; _0x34cd63 = (_0x58e3e3[_0x86d09(0x277)][0x1] - _0x58e3e3[_0x86d09(0x277)][0x3]) / _0xf1095a, _0x53907d = (_0x58e3e3[_0x86d09(0x277)][0x6] + _0x58e3e3[_0x86d09(0x277)][0x2]) / _0xf1095a, _0x4bf792 = (_0x58e3e3['data32F'][0x7] + _0x58e3e3[_0x86d09(0x277)][0x5]) / _0xf1095a, _0x4fbfc2 = 0.25 * _0xf1095a; } } } if (this[_0x86d09(0x183)]) { var _0x407665 = this[_0x86d09(0x183)] - _0x34cd63, _0x261bc4 = this['lasti'] - _0x53907d, _0x1aa51f = this[_0x86d09(0x1b5)] - _0x4bf792, _0x2970b5 = this[_0x86d09(0x268)] - _0x4fbfc2; (_0x407665 * _0x407665 > 0x1 || _0x261bc4 * _0x261bc4 > 0x1 || _0x1aa51f * _0x1aa51f > 0x1 || _0x2970b5 * _0x2970b5 > 0x1) && (_0x34cd63 *= -0x1, _0x53907d *= -0x1, _0x4bf792 *= -0x1, _0x4fbfc2 *= -0x1); } this[_0x86d09(0x183)] = _0x34cd63, this[_0x86d09(0x232)] = _0x53907d, this[_0x86d09(0x1b5)] = _0x4bf792, this[_0x86d09(0x268)] = _0x4fbfc2, !_0x37fa6d[_0x86d09(0x1dc)]['hasPrediction'] && (_0x37fa6d['kalman'][_0x86d09(0x243)][_0x86d09(0x290)](), _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x243)] = cv[_0x86d09(0x1e4)](0x15, 0x1, cv['CV_32F'], [_0x4260a3[_0x86d09(0x277)][0x0], _0x4260a3[_0x86d09(0x277)][0x1], _0x4260a3[_0x86d09(0x277)][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x34cd63, _0x53907d, _0x4bf792, _0x4fbfc2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0x37fa6d[_0x86d09(0x1dc)]['kf'][_0x86d09(0x14f)][_0x86d09(0x290)](), _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x243)]['copyTo'](_0x37fa6d['kalman']['kf'][_0x86d09(0x14f)]), _0x37fa6d['kalman']['kf'][_0x86d09(0x1bd)][_0x86d09(0x290)](), _0x37fa6d[_0x86d09(0x1dc)]['state'][_0x86d09(0x1ee)](_0x37fa6d[_0x86d09(0x1dc)]['kf'][_0x86d09(0x1bd)])), _0x37fa6d['kalman'][_0x86d09(0x293)][_0x86d09(0x277)][0x0] = _0x4260a3[_0x86d09(0x277)][0x0], _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x293)][_0x86d09(0x277)][0x1] = _0x4260a3[_0x86d09(0x277)][0x1], _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x293)][_0x86d09(0x277)][0x2] = _0x4260a3[_0x86d09(0x277)][0x2], _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x293)]['data32F'][0x3] = _0x34cd63, _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x293)][_0x86d09(0x277)][0x4] = _0x53907d, _0x37fa6d[_0x86d09(0x1dc)]['meas'][_0x86d09(0x277)][0x5] = _0x4bf792, _0x37fa6d['kalman'][_0x86d09(0x293)][_0x86d09(0x277)][0x6] = _0x4fbfc2, _0x37fa6d[_0x86d09(0x1dc)]['kf']['correct'](_0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x293)]), _0x37fa6d[_0x86d09(0x1dc)][_0x86d09(0x220)] = !![]; } [_0x254145(0x22c)](_0x1cc5e0) { var _0x5769a6 = _0x254145, _0x38ff5f = this[_0x5769a6(0x201)], _0x42b4ad = this['KALMAN_PROC_NOISE_VEL'], _0x4250cf = this[_0x5769a6(0x29b)], _0x5b9a7d = this[_0x5769a6(0x2ac)], _0xeabfaf = this[_0x5769a6(0x235)], _0x42583c = this[_0x5769a6(0x1c1)], _0x16c889 = cv[_0x5769a6(0x1e4)](0x15, 0x15, cv[_0x5769a6(0x165)], [_0x38ff5f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x38ff5f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x38ff5f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42b4ad, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42b4ad, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42b4ad, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4250cf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4250cf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4250cf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5b9a7d, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5b9a7d, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5b9a7d, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5b9a7d, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xeabfaf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xeabfaf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xeabfaf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xeabfaf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42583c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42583c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42583c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x42583c]); _0x16c889['copyTo'](_0x1cc5e0), _0x16c889[_0x5769a6(0x290)](); } ['setNoise7x7'](_0x5665e5) { var _0x14048a = _0x254145, _0x5af0c2 = this[_0x14048a(0x171)], _0x787aee = this[_0x14048a(0x1fc)], _0x325bf6 = cv['matFromArray'](0x7, 0x7, cv[_0x14048a(0x165)], [_0x5af0c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5af0c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x5af0c2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x787aee, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x787aee, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x787aee, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x787aee]); _0x325bf6[_0x14048a(0x1ee)](_0x5665e5), _0x325bf6[_0x14048a(0x290)](); } ['getMesNoise']() { var _0x164956 = _0x254145; console[_0x164956(0x1ce)]('(' + this[_0x164956(0x171)] + ',' + this[_0x164956(0x1fc)] + ')'); } ['setMeasNoise'](_0x2fd7b5, _0x212a10) { var _0x4d347a = _0x254145; this[_0x4d347a(0x171)] = _0x2fd7b5, this[_0x4d347a(0x1fc)] = _0x212a10; var _0x4a5729 = Object['keys'](this['imageTargets']['untracked']); _0x4a5729[_0x4d347a(0x164)](_0x6ffcaa => { var _0x3ae5f9 = _0x4d347a, _0x77d3c2 = this[_0x3ae5f9(0x23e)][_0x3ae5f9(0x18e)][_0x6ffcaa]; this[_0x3ae5f9(0x24b)](_0x77d3c2[_0x3ae5f9(0x1dc)]['kf'][_0x3ae5f9(0x215)]); }); } [_0x254145(0x29d)](_0x293a2f, _0x2d427a) { var _0x1871fb = _0x254145, _0x22f5ad = 0.5 * _0x2d427a * _0x2d427a; _0x293a2f['transitionMatrix'][_0x1871fb(0x277)][0x3] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x19] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x2f] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x45] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x5b] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x71] = _0x2d427a, _0x293a2f['transitionMatrix'][_0x1871fb(0x277)][0xca] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)]['data32F'][0xe0] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0xf6] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)]['data32F'][0x10c] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x122] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x138] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)]['data32F'][0x14e] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x164] = _0x2d427a, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x6] = _0x22f5ad, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x1c] = _0x22f5ad, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0x32] = _0x22f5ad, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0xce] = _0x22f5ad, _0x293a2f[_0x1871fb(0x27d)][_0x1871fb(0x277)][0xe4] = _0x22f5ad, _0x293a2f['transitionMatrix'][_0x1871fb(0x277)][0xfa] = _0x22f5ad, _0x293a2f[_0x1871fb(0x27d)]['data32F'][0x110] = _0x22f5ad; } [_0x254145(0x155)](_0x460ef6, _0x105d05) { var _0x4fdd66 = _0x254145, _0x4178c6 = [], _0x3fdb65 = 0x1, _0x41d9e4 = 0x0, _0x1579c7 = 0x1, _0x112d4c = 0x0; for (var _0x41891b = 0x0; _0x41891b < _0x105d05['matches'][_0x4fdd66(0x1d9)](); _0x41891b++) { var _0x4d9cfb = _0x105d05[_0x4fdd66(0x263)]['get'](_0x41891b); _0x4178c6[_0x4fdd66(0x173)](_0x4d9cfb[_0x4fdd66(0x203)]); var _0x1c9777 = _0x105d05[_0x4fdd66(0x263)][_0x4fdd66(0x1d9)](), _0x24364f = _0x105d05[_0x4fdd66(0x28d)][_0x4fdd66(0x1d9)]()['width'], _0x11d8db = _0x105d05[_0x4fdd66(0x28d)]['size']()[_0x4fdd66(0x255)], _0x592012 = _0x105d05['kp'][_0x4fdd66(0x145)](_0x4d9cfb[_0x4fdd66(0x203)])['pt']['x'] / _0x24364f, _0x4aff69 = _0x105d05['kp'][_0x4fdd66(0x145)](_0x4d9cfb[_0x4fdd66(0x203)])['pt']['y'] / _0x11d8db; if (_0x592012 < _0x3fdb65) _0x3fdb65 = _0x592012; else { if (_0x592012 > _0x41d9e4) _0x41d9e4 = _0x592012; } if (_0x4aff69 < _0x1579c7) _0x1579c7 = _0x4aff69; else { if (_0x4aff69 > _0x112d4c) _0x112d4c = _0x4aff69; } } var _0x2e6ae6 = (_0x41d9e4 - _0x3fdb65) * (_0x112d4c - _0x1579c7); (!_0x105d05[_0x4fdd66(0x286)] || _0x2e6ae6 > _0x105d05['bestCoverage']) && (_0x105d05[_0x4fdd66(0x286)] = _0x2e6ae6, _0x105d05['idealMatches'] = _0x4178c6); if (_0x105d05['roi']) { var _0x3801fd = _0x105d05[_0x4fdd66(0x266)]['x'] > 0x0, _0xcfb7f7 = _0x105d05[_0x4fdd66(0x266)]['x'] + _0x105d05[_0x4fdd66(0x266)]['width'] < _0x460ef6[_0x4fdd66(0x1d9)]()['width'], _0x353617 = _0x105d05['roi']['y'] > 0x0, _0xbaa316 = _0x105d05[_0x4fdd66(0x266)]['y'] + _0x105d05[_0x4fdd66(0x266)][_0x4fdd66(0x255)] < _0x460ef6[_0x4fdd66(0x1d9)]()['height']; if (_0x2e6ae6 < 0.5 * _0x105d05['coverage'] && (_0x3801fd && _0xcfb7f7 && _0x353617 && _0xbaa316)) { console[_0x4fdd66(0x1ce)]('unstable\x20centroid', _0x2e6ae6 + '<' + 0.5 * _0x105d05[_0x4fdd66(0x224)]); if (_0x105d05['bestCoverage'] && _0x105d05[_0x4fdd66(0x286)] > _0x2e6ae6) { var _0x2ec7a1 = 0x0; _0x105d05[_0x4fdd66(0x263)]['delete'](), _0x105d05[_0x4fdd66(0x263)] = new cv['DMatchVector'](); for (var _0x41891b = 0x0; _0x41891b < _0x105d05[_0x4fdd66(0x238)][_0x4fdd66(0x2a0)]; _0x41891b++) { var _0x4d9cfb = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0x105d05['idealMatches'][_0x41891b] }; _0x105d05[_0x4fdd66(0x263)][_0x4fdd66(0x281)](_0x4d9cfb), _0x2ec7a1++; } console[_0x4fdd66(0x1ce)](_0x4fdd66(0x276) + _0x2ec7a1 + _0x4fdd66(0x288)); return; } } } var _0x2ec7a1 = 0x0; while (_0x105d05[_0x4fdd66(0x263)]['size']() < this[_0x4fdd66(0x1c5)] && _0x105d05[_0x4fdd66(0x263)]['size']() < _0x105d05['kp'][_0x4fdd66(0x1d9)]()) { var _0x2babbe = this[_0x4fdd66(0x1dd)](0x0, _0x105d05['kp']['size']() - 0x1); if (_0x4178c6[_0x4fdd66(0x192)](_0x2babbe)) continue; var _0x4d9cfb = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0x2babbe }; _0x105d05['matches'][_0x4fdd66(0x281)](_0x4d9cfb), _0x2ec7a1++; } return; } [_0x254145(0x157)](_0x218469) { var _0x48824b = _0x254145; console[_0x48824b(0x1ce)](_0x48824b(0x292) + _0x218469), window['unityInstance']['SendMessage'](this[_0x48824b(0x270)], 'OnTrackingFound', _0x218469); } [_0x254145(0x284)](_0x2c524d) { var _0x1ea9c7 = _0x254145; console[_0x1ea9c7(0x1ce)](_0x1ea9c7(0x25a) + _0x2c524d), window[_0x1ea9c7(0x218)]['SendMessage'](this['TRACKER_NAME'], 'OnTrackingLost', _0x2c524d); } [_0x254145(0x227)](_0x1fd593, _0x4e03c5) { var _0x17d833 = _0x254145, _0x4d4658 = new cv[(_0x17d833(0x1f3))](), _0x502290 = new cv[(_0x17d833(0x1f3))](); _0x4e03c5[_0x17d833(0x229)][_0x17d833(0x1ee)](_0x4d4658), _0x4e03c5[_0x17d833(0x166)][_0x17d833(0x1ee)](_0x502290), _0x4d4658[_0x17d833(0x277)][0x1] *= -0x1, _0x502290 = _0x502290['t'](); var _0x8cbec5 = [0x1, 0x0, 0x0, 0x0, -0x1, 0x0, 0x0, 0x0, 0x1]; _0x8cbec5 = cv['matFromArray'](0x3, 0x3, cv['CV_32F'], _0x8cbec5), cv['gemm'](_0x8cbec5, _0x502290, 0x1, _0x502290, 0x0, _0x502290, 0x0), cv[_0x17d833(0x240)](_0x502290, _0x8cbec5, 0x1, _0x502290, 0x0, _0x502290, 0x0), _0x8cbec5[_0x17d833(0x290)](); var _0x1e89d9 = [0x0, 0x0, -0x1, 0x0, -0x1, 0x0, -0x1, 0x0, 0x0]; _0x1e89d9 = cv[_0x17d833(0x1e4)](0x3, 0x3, cv[_0x17d833(0x165)], _0x1e89d9), cv[_0x17d833(0x240)](_0x1e89d9, _0x502290, 0x1, _0x502290, 0x0, _0x502290, 0x0), _0x1e89d9[_0x17d833(0x290)](); var _0x120a94 = _0x1fd593 + ',' + _0x4d4658[_0x17d833(0x277)][0x0] + ',' + _0x4d4658[_0x17d833(0x277)][0x1] + ',' + _0x4d4658[_0x17d833(0x277)][0x2] + ',' + _0x502290[_0x17d833(0x277)][0x0] + ',' + _0x502290[_0x17d833(0x277)][0x1] + ',' + _0x502290[_0x17d833(0x277)][0x2] + ',' + _0x502290[_0x17d833(0x277)][0x3] + ',' + _0x502290['data32F'][0x4] + ',' + _0x502290[_0x17d833(0x277)][0x5] + ',' + _0x502290[_0x17d833(0x277)][0x6] + ',' + _0x502290[_0x17d833(0x277)][0x7] + ',' + _0x502290[_0x17d833(0x277)][0x8] + ','; _0x4d4658['delete'](), _0x502290['delete'](), window[_0x17d833(0x218)][_0x17d833(0x223)](this[_0x17d833(0x270)], 'OnTrack', _0x120a94); } [_0x254145(0x17c)]() { var _0x5ddf66 = _0x254145; if (!tracker[_0x5ddf66(0x1bc)]) return; var _0x158d7d = document[_0x5ddf66(0x17f)](_0x5ddf66(0x25d))[_0x5ddf66(0x1ef)](); console[_0x5ddf66(0x1ce)](_0x158d7d['width'] + 'x' + _0x158d7d[_0x5ddf66(0x255)], window[_0x5ddf66(0x174)] + 'x' + window[_0x5ddf66(0x1ec)]); var _0x48609f = tracker['ASPECT_RATIO'], _0x597936 = window[_0x5ddf66(0x174)], _0x2b81f4 = window['innerHeight'], _0x2f7240 = _0x597936 / _0x2b81f4; console['log']('ar', _0x2f7240, _0x5ddf66(0x27f), tracker[_0x5ddf66(0x14d)]); if (_0x2f7240 > _0x48609f) { document[_0x5ddf66(0x172)]['style']['height'] = window['innerHeight'] + 'px'; var _0x3dffee = document[_0x5ddf66(0x17f)](_0x5ddf66(0x291))[_0x5ddf66(0x1ef)]()[_0x5ddf66(0x255)]; _0x48609f *= _0x158d7d[_0x5ddf66(0x255)] / _0x3dffee, console[_0x5ddf66(0x1ce)](_0x5ddf66(0x237)); } else document[_0x5ddf66(0x172)][_0x5ddf66(0x28b)][_0x5ddf66(0x255)] = _0x5ddf66(0x247), console[_0x5ddf66(0x1ce)](_0x5ddf66(0x254)); var _0x148940 = 0.5 * tracker[_0x5ddf66(0x1bc)] / _0x48609f, _0x37b913 = tracker[_0x5ddf66(0x1bc)], _0x1a5e60 = 0x2 * Math[_0x5ddf66(0x24c)](_0x148940 / _0x37b913) * 0xb4 / Math['PI']; this[_0x5ddf66(0x1b4)] = _0x1a5e60, console['log']('set\x20fov=' + _0x1a5e60), window[_0x5ddf66(0x218)][_0x5ddf66(0x223)](this[_0x5ddf66(0x270)], _0x5ddf66(0x1f6), _0x1a5e60); } [_0x254145(0x27e)](_0x9fb3cb, _0x590266) { var _0x950892 = _0x254145, _0x353c23 = 0.5, _0x47a53d = document[_0x950892(0x17f)](_0x590266); if (!_0x47a53d) { _0x47a53d = document['createElement'](_0x950892(0x24e)), _0x47a53d['id'] = _0x590266, document[_0x950892(0x172)][_0x950892(0x206)](_0x47a53d); if (!this[_0x950892(0x20d)]) this[_0x950892(0x20d)] = []; this[_0x950892(0x20d)][_0x950892(0x173)](_0x590266), _0x47a53d['style'][_0x950892(0x267)] = 'absolute', _0x47a53d[_0x950892(0x28b)][_0x950892(0x23d)] = 0x0, _0x47a53d[_0x950892(0x28b)][_0x950892(0x21d)] = 0x0, _0x47a53d[_0x950892(0x28b)][_0x950892(0x1e7)] = _0x950892(0x160) + _0x353c23 + ')'; } cv[_0x950892(0x1c8)](_0x590266, _0x9fb3cb); var _0x5b6247 = this[_0x950892(0x20d)]['indexOf'](_0x590266); _0x5b6247 != -0x1 && (_0x47a53d['style']['left'] = _0x5b6247 * _0x9fb3cb[_0x950892(0x1d9)]()[_0x950892(0x18f)] * _0x353c23 + 'px'); } ['debugHide'](_0x5787b7) { var _0x2e8a96 = _0x254145, _0x2218e1 = document[_0x2e8a96(0x17f)](_0x5787b7); if (_0x2218e1) { _0x2218e1[_0x2e8a96(0x28c)](); var _0x521897 = this[_0x2e8a96(0x20d)]['indexOf'](_0x5787b7); _0x521897 !== -0x1 && this['debugIds'][_0x2e8a96(0x209)](_0x521897, 0x1); } } ['debugSave'](_0x24780b, _0x3e11f2) { var _0x4b47f3 = _0x254145; if (!this['debugImages']) this[_0x4b47f3(0x176)] = {}; this['debugImages'][_0x3e11f2] = _0x24780b; } ['debugLoad'](_0x4b4fee) { var _0x1ba1a2 = _0x254145; if (this[_0x1ba1a2(0x176)] && this[_0x1ba1a2(0x176)][_0x4b4fee]) return this[_0x1ba1a2(0x176)][_0x4b4fee]; else return; } [_0x254145(0x295)](_0x3c25d8) { var _0x203670 = _0x254145; this[_0x203670(0x176)] && this[_0x203670(0x176)][_0x3c25d8] && (this[_0x203670(0x176)][_0x3c25d8][_0x203670(0x290)](), this[_0x203670(0x176)][_0x3c25d8] = null); } [_0x254145(0x1dd)](_0x29a5c2, _0x22579b) { var _0x253e08 = _0x254145; return Math['floor'](Math[_0x253e08(0x2a8)]() * (_0x22579b - _0x29a5c2 + 0x1) + _0x29a5c2); } };
